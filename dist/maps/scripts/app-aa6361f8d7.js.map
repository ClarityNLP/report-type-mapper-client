{"version":3,"sources":["scripts/app-aa6361f8d7.js"],"names":["angular","module","controller","$scope","$http","userProfile","Services","$stateParams","$state","userId","deleteUser","console","log","then","response","go","catch","sailsResponse","finally","toastr","activateUser","user","users","forEach","scopeUser","id","roles","data","activated","success","getUsers","indexOf","EnvironmentConfig","instituteId","getInstituteName","instituteName","createList","fd","FormData","append","list","name","reportTypes","post","API_URL","transformRequest","identity","headers","Content-Type","undefined","directive","scope","fileread","link","element","attributes","bind","changeEvent","reader","FileReader","onload","loadEvent","$apply","target","result","readAsDataURL","files","get","lists","error","closeButton","instituteAlreadyExists","getInstitute","editInstitute","deleteInstitute","createInstitute","getInstitutes","institutes","getToken","apiToken","tagAlreadyExists","fileFormat","createTags","tagFile","createTag","tagName","numTags","getTagCount","count","Auth","registerForm","selectedInstitute","register","signUp","$refresh","status","errors","logout","lodash","reportTypePage","loadMoreActive","params","loadMoreElement","document","querySelector","loadMore","el","elemTop","getBoundingClientRect","top","elemBottom","bottom","window","innerHeight","isScrolledIntoView","listId","reportTypeQuery","getReportTypes","_","value","report_types","push","Object","assign","selected","isAllSelected","length","numReportTypeResults","numResults","tagQuery","getTags","numTagResults","tags","searchReportType","e","searchTag","addTag","tag","report_type","hasTag","some","tagId","allSelectedAddTag","reportTypeId","bulkRemoveTag","remove","allSelectedRemoveTag","removeTag","selectReportType","deleteTag","report_type_id","tag_id","toggleAllReportTypes","toggleStatus","itm","reportTypeToggled","every","loginForm","loading","message","submitLoginForm","signIn","credentials","$hasRole","institute","service","this","payload","delete","activate","constant","factory","fetchUserProfile","getProfile","prop","hasOwnProperty","clearUserProfile","extend","role","$hasAnyRole","filter","$isAnonymous","anonymous","$isAuthenticated","$isPending","$q","UserProfile","Access","OK","UNAUTHORIZED","FORBIDDEN","hasRole","reject","hasAnyRole","isAnonymous","isAuthenticated","PENDING_ADMIN_APPROVAL","config","$stateProvider","$urlRouterProvider","state","abstract","templateUrl","resolve","url","views","nav@app","main@app","access","otherwise","$locationProvider","$httpProvider","hashPrefix","defaults","withCredentials","run","$rootScope","$log","$on","event","toState","toParams","fromState","fromParams","warn","$templateCache","put"],"mappings":"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","file":"../../scripts/app-aa6361f8d7.js","sourcesContent":["'use strict';\n\nangular.module('myApp.users.delete', [])\n\n.controller('UsersDeleteCtrl', ['$scope', '$http', 'userProfile', 'Services', '$stateParams', '$state', function($scope, $http, userProfile, Services, $stateParams, $state) {\n\n  $scope.userProfile = userProfile;\n\n  $scope.userId = $stateParams.userId;\n\n  $scope.deleteUser = function(userId) {\n    console.log('userId: ',userId);\n    Services.deleteUser(userId).then(function onSuccess(response) {\n      $state.go('app.users.all');\n    }).catch(function onError(sailsResponse) {\n    }).finally(function eitherWay() {\n    });\n  }\n\n  // getToken();\n  //\n  // function getToken() {\n  //   Services.getToken().then(function onSuccess(response) {\n  //     $scope.apiToken = response.data;\n  //   }).catch(function onError(sailsResponse) {\n  //   }).finally(function eitherWay() {\n  //   });\n  // }\n}]);\n\n'use strict';\n\nangular.module('myApp.users.all', [])\n\n.controller('UsersAllCtrl', ['$scope', '$http', 'userProfile', 'Services', 'toastr', function($scope, $http, userProfile, Services, toastr) {\n\n  $scope.userProfile = userProfile;\n\n  $scope.activateUser = function(user) {\n    console.log('user: ',user);\n    Services.activateUser(user).then(function onSuccess(response) {\n      console.log('response: ',response);\n      $scope.users.forEach(function(scopeUser) {\n        if (scopeUser.id == user.id) {\n          scopeUser.roles = response.data.roles;\n          // if (user.activated) {\n          //   var index = scopeUser.roles.indexOf('ROLE_PENDING_USER');\n          //   scopeUser.roles.splice(index, 1);\n          // } else {\n          //   scopeUser.roles.push('ROLE_PENDING_USER');\n          // }\n        }\n      });\n      if (user.activated) {\n        toastr.success('User has been activated and notified via email.');\n      } else {\n        toastr.success('User has been deactivated and notified via email.');\n      }\n    }).catch(function onError(sailsResponse) {\n    }).finally(function eitherWay() {\n    });\n  }\n\n  getUsers();\n\n  function getUsers() {\n    Services.getUsers().then(function onSuccess(response) {\n      var users = response.data;\n      users.forEach(function(user) {\n        user.activated = user.roles.indexOf('ROLE_PENDING_USER') < 0;\n      });\n      $scope.users = users;\n    }).catch(function onError(sailsResponse) {\n    }).finally(function eitherWay() {\n    });\n  }\n}]);\n\n'use strict';\n\nangular.module('myApp.list.edit', [])\n\n.controller('ListEditCtrl', ['$scope', '$http', '$stateParams', function($scope, $http, $stateParams) {\n\n  //TODO\n\n}]);\n\n'use strict';\n\nangular.module('myApp.list.delete', [])\n\n.controller('ListDeleteCtrl', ['$scope', '$http', '$stateParams', function($scope, $http, $stateParams) {\n\n  //TODO\n\n}]);\n\n'use strict';\n\nangular.module('myApp.list.create', ['bootstrap.fileField'])\n\n.controller('ListCreateCtrl', ['$scope', '$http', '$state', '$stateParams', 'userProfile', 'Services', 'EnvironmentConfig', function($scope, $http, $state, $stateParams, userProfile, Services, EnvironmentConfig) {\n\n  $scope.userProfile = userProfile;\n\n  $scope.instituteId = $stateParams.instituteId;\n\n  getInstituteName();\n\n  function getInstituteName() {\n    Services.getInstituteName($stateParams.instituteId).then(function onSuccess(response) {\n      $scope.instituteName = response.data\n      console.log('response: ',response);\n    }).catch(function onError(sailsResponse) {\n      console.log('problem getting institute name.');\n    }).finally(function eitherWay() {\n    });\n  }\n\n  $scope.createList = function() {\n\n    var fd = new FormData();\n    fd.append('name', $scope.list.name);\n    fd.append('reportTypes', $scope.list.reportTypes);\n\n    $http.post(EnvironmentConfig.API_URL+\"/institutes/\"+$stateParams.instituteId+\"/lists\", fd, {\n      transformRequest: angular.identity,\n      headers: {'Content-Type': undefined}\n    }).then(function(response) {\n      $state.go('app.list.all', { instituteId: $stateParams.instituteId });\n      // $location.path('/institutes/'+$stateParams.instituteId+'/lists');\n    })\n  }\n\n}])\n\n.directive(\"fileread\", [function () {\n    return {\n        scope: {\n            fileread: \"=\"\n        },\n        link: function (scope, element, attributes) {\n            element.bind(\"change\", function (changeEvent) {\n                var reader = new FileReader();\n                reader.onload = function (loadEvent) {\n                    scope.$apply(function () {\n                        scope.fileread = loadEvent.target.result;\n                    });\n                }\n                reader.readAsDataURL(changeEvent.target.files[0]);\n            });\n        }\n    }\n}]);\n\n'use strict';\n\nangular.module('myApp.list.all', [])\n\n.controller('ListAllCtrl', ['$scope', '$http', '$stateParams', 'userProfile', 'Services', 'EnvironmentConfig', function($scope, $http, $stateParams, userProfile, Services, EnvironmentConfig) {\n\n  $scope.userProfile = userProfile;\n\n  $scope.instituteId = $stateParams.instituteId;\n\n  getInstituteName();\n\n  function getInstituteName() {\n    Services.getInstituteName($stateParams.instituteId).then(function onSuccess(response) {\n      $scope.instituteName = response.data\n      console.log('response: ',response);\n    }).catch(function onError(sailsResponse) {\n      console.log('problem getting institute name.');\n    }).finally(function eitherWay() {\n    });\n  }\n\n  $http.get(EnvironmentConfig.API_URL+'/institutes/'+$stateParams.instituteId+'/lists')\n  .then(function onSuccess(response) {\n    $scope.lists = response.data;\n  })\n  .catch(function onError(response) {\n    toastr.error('An unexpected error occurred, please try again', 'Error', {\n      closeButton: true\n    });\n    return;\n  })\n  .finally(function eitherWay() {\n\n  })\n\n}]);\n\n'use strict';\n\nangular.module('myApp.institutes.edit', [])\n\n.controller('InstitutesEditCtrl', ['$scope', '$stateParams', 'Services', '$state', 'userProfile', function($scope, $stateParams, Services, $state, userProfile) {\n\n  $scope.userProfile = userProfile;\n\n  $scope.instituteAlreadyExists = false;\n\n  getInstitute();\n\n  function getInstitute() {\n    Services.getInstitute($stateParams.instituteId).then(function onSuccess(response) {\n      $scope.instituteName = response.data.name;\n    }).catch(function onError(sailsResponse) {\n      console.log('problem getting institute');\n    }).finally(function eitherWay() {\n\n    });\n  }\n\n  $scope.editInstitute = function() {\n    Services.editInstitute({ name: $scope.instituteName, instituteId: $stateParams.instituteId }).then(function onSuccess(response) {\n      $state.go('app.institutes.all');\n    }).catch(function onError(sailsResponse) {\n      $scope.instituteAlreadyExists = true;\n    }).finally(function eitherWay() {\n\n    });\n  }\n\n}]);\n\n'use strict';\n\nangular.module('myApp.institutes.delete', [])\n\n.controller('InstitutesDeleteCtrl', ['$scope', '$stateParams', 'userProfile', 'Services', '$state', function($scope, $stateParams, userProfile, Services, $state) {\n\n  $scope.userProfile = userProfile;\n\n  $scope.deleteInstitute = function() {\n    Services.deleteInstitute($stateParams.instituteId).then(function onSuccess(response) {\n      $state.go('app.institute');\n    }).catch(function onError(sailsResponse) {\n      console.log('problem deleting institute...');\n    }).finally(function eitherWay() {\n\n    });\n  }\n\n}]);\n\n'use strict';\n\nangular.module('myApp.institutes.create', ['bootstrap.fileField'])\n\n.controller('InstitutesCreateCtrl', ['$scope', '$state', 'userProfile', 'Services', function($scope, $state, userProfile, Services) {\n\n  $scope.userProfile = userProfile;\n\n  $scope.instituteAlreadyExists = false;\n\n  $scope.createInstitute = function() {\n    Services.createInstitute($scope.instituteName).then(function onSuccess(response) {\n      $scope.instituteAlreadyExists = false;\n      $scope.instituteName = '';\n      $state.go('app.institutes.all');\n    }).catch(function onError(sailsResponse) {\n      $scope.instituteAlreadyExists = true;\n    }).finally(function eitherWay() {\n\n    });\n  }\n\n}]);\n\n'use strict';\n\nangular.module('myApp.institutes.all', [])\n\n.controller('InstitutesAllCtrl', ['$scope', 'userProfile', 'Services', function($scope, userProfile, Services) {\n\n  $scope.userProfile = userProfile;\n\n  Services.getInstitutes().then(function onSuccess(response) {\n    console.log('success getting institutes...');\n    $scope.institutes = response.data;\n  }).catch(function onError(sailsResponse) {\n    console.log('error');\n  }).finally(function eitherWay() {\n\n  });\n\n}]);\n\n'use strict';\n\nangular.module('myApp.users', [\n  'myApp.users.all',\n  'myApp.users.delete'\n])\n\n'use strict';\n\nangular.module('myApp.token', [])\n\n.controller('TokenCtrl', ['$scope', '$http', 'userProfile', 'Services', function($scope, $http, userProfile, Services) {\n\n  $scope.userProfile = userProfile;\n\n  getToken();\n\n  function getToken() {\n    Services.getToken().then(function onSuccess(response) {\n      $scope.apiToken = response.data;\n    }).catch(function onError(sailsResponse) {\n    }).finally(function eitherWay() {\n    });\n  }\n}]);\n\n'use strict';\n\nangular.module('myApp.tag', [])\n\n.controller('TagCtrl', ['$scope', '$http', 'userProfile', 'Services', 'EnvironmentConfig', function($scope, $http, userProfile, Services, EnvironmentConfig) {\n\n  $scope.userProfile = userProfile;\n\n  $scope.tagAlreadyExists = false;\n\n  $scope.fileFormat = 'simple';\n\n  $scope.createTags = function() {\n    var fd = new FormData();\n    fd.append('tagFile', $scope.tagFile);\n    fd.append('fileFormat', $scope.fileFormat);\n\n    $http.post(EnvironmentConfig.API_URL+\"/uploadLoincDocumentOntologyCSV\", fd, {\n      transformRequest: angular.identity,\n      headers: {'Content-Type': undefined}\n    }).then(function(response) {\n      console.log('upload success...');\n      console.log('response: ',response);\n      // $location.path('/institutes/'+userProfile.institute.id+'/lists');\n    })\n  }\n\n  $scope.createTag = function() {\n    Services.createTag($scope.tagName).then(function onSuccess(response) {\n      $scope.numTags = $scope.numTags + 1;\n      $scope.tagAlreadyExists = false;\n      $scope.tagName = '';\n    }).catch(function onError(sailsResponse) {\n      $scope.tagAlreadyExists = true;\n    }).finally(function eitherWay() {\n\n    });\n  }\n\n  getTagCount();\n\n  function getTagCount() {\n    Services.getTagCount().then(function onSuccess(response) {\n      console.log('tag count: ',response);\n      $scope.numTags = response.data.count;\n    }).catch(function onError(sailsResponse) {\n      console.log('problem getting tag count');\n    }).finally(function eitherWay() {\n\n    });\n  }\n\n\n}]);\n\n'use strict';\n\nangular.module('myApp.register', [])\n\n.controller('RegisterCtrl', ['$scope', 'Services', 'Auth', 'userProfile', '$state', function($scope, Services, Auth, userProfile, $state) {\n\n  getInstitutes();\n\n  $scope.registerForm = {};\n\n  function getInstitutes() {\n    Services.getInstitutes().then(function onSuccess(response) {\n      $scope.institutes = response.data;\n      $scope.registerForm.selectedInstitute = response.data[0];\n    }).catch(function onError(response) {\n      console.log('error: ',response);\n    }).finally(function eitherWay() {\n    });\n  }\n\n  $scope.register = function() {\n    Auth.signUp($scope.registerForm).then(function onSuccess(response) {\n      return userProfile.$refresh();\n    }).then(function() {\n      $state.go('app.pending');\n    }).catch(function onError(response) {\n      if (response.status == 400) {\n        $scope.registerForm.errors = \"Please enter all required fields\";\n      } else {\n        $scope.registerForm.errors = \"There was an unexpected problem. Please try again.\";\n      }\n    });\n\n  }\n\n}]);\n\n'use strict';\n\nangular.module('myApp.pending', [])\n\n.controller('PendingCtrl', ['$scope', '$http', 'toastr', '$state', 'userProfile', 'Auth', function($scope, $http, toastr, $state, userProfile, Auth) {\n\n  console.log('loading pending ctrl.');\n\n}]);\n\n'use strict';\n\nangular.module('myApp.nav', [])\n\n.controller('NavCtrl', ['$scope', 'userProfile', function($scope, userProfile) {\n\n  $scope.userProfile = userProfile;\n\n}]);\n\n'use strict';\n\nangular.module('myApp.logout', [])\n\n.controller('LogoutCtrl', ['$scope', 'userProfile', 'Auth', function($scope, userProfile, Auth) {\n\n  logout();\n\n  function logout() {\n\n    Auth.logout().then(function() {\n      return userProfile.$refresh();\n    });\n\n  }\n\n}]);\n\n'use strict';\n\nangular.module('myApp.map', ['ngLodash'])\n\n.controller('MapCtrl', ['$scope', 'lodash', '$stateParams', 'userProfile', 'Services', function($scope, lodash, $stateParams, userProfile, Services) {\n\n  $scope.userProfile = userProfile;\n\n  $scope.reportTypePage = 0;\n\n  $scope.loadMoreActive = false;\n\n  // $scope.loadMoreVisible = false;\n\n  var loadMoreElement = angular.element(document.querySelector('.load-next-page'));\n\n  angular.element(document.querySelector('#report-type-list')).bind('scroll', function(){\n    var loadMore = isScrolledIntoView(loadMoreElement);\n    console.log('loadMore: ',loadMore);\n    if (loadMore && $scope.loadMoreActive) {\n      $scope.loadMoreActive = false;\n      $scope.reportTypePage = $scope.reportTypePage + 1;\n\n      var params = {\n        instituteId: $stateParams.instituteId,\n        listId: $stateParams.listId,\n        reportTypePage: $scope.reportTypePage,\n        reportTypeQuery: $scope.reportTypeQuery ? $scope.reportTypeQuery : ''\n      }\n\n      console.log('params: ',params);\n\n      Services.getReportTypes(params).then(function onSuccess(response) {\n        _.forEach(response.data.reportTypes, function(value) {\n          $scope.report_types.push(Object.assign({},value, {selected: $scope.isAllSelected}));\n        });\n\n        if (response.data.reportTypes.length == 30) {\n          $scope.loadMoreActive = true;\n        } else {\n          $scope.loadMoreActive = false;\n        }\n      }).catch(function onError(sailsResponse) {\n        console.log('error');\n      }).finally(function eitherWay() {\n        console.log('either way...');\n      });\n    }\n  });\n\n  getReportTypes();\n  getTags();\n\n  function getReportTypes() {\n\n    var params = {\n      instituteId: $stateParams.instituteId,\n      listId: $stateParams.listId,\n      reportTypePage: $scope.reportTypePage,\n      reportTypeQuery: ''\n    }\n\n    Services.getReportTypes(params).then(function onSuccess(response) {\n      $scope.numReportTypeResults = response.data.numResults;\n      console.log('response: ',response);\n      $scope.report_types = response.data.reportTypes;\n      if (response.data.reportTypes.length == 30) {\n        $scope.loadMoreActive = true;\n      } else {\n        $scope.loadMoreActive = false;\n      }\n    }).catch(function onError(sailsResponse) {\n      console.log('error');\n    }).finally(function eitherWay() {\n\n    });\n  }\n\n  function getTags() {\n\n    var params = {\n      instituteId: $stateParams.instituteId,\n      listId: $stateParams.listId,\n      // tagPage: $scope.tagPage,\n      tagQuery: ''\n    }\n\n    Services.getTags(params).then(function onSuccess(response) {\n      $scope.numTagResults = response.data.numResults;\n      $scope.tags = response.data.tags;\n    }).catch(function onError(sailsResponse) {\n      console.log('problem getting tags.');\n    }).finally(function eitherWay() {\n\n    });\n  }\n\n  function isScrolledIntoView(el) {\n      var el = el[0];\n      var elemTop = el.getBoundingClientRect().top;\n      var elemBottom = el.getBoundingClientRect().bottom;\n\n      // Only completely visible elements return true:\n      var isVisible = (elemTop >= 0) && (elemBottom <= window.innerHeight + 5); //fix the plus 5\n      // Partially visible elements return true:\n      isVisible = elemTop < window.innerHeight && elemBottom >= 0;\n      return isVisible;\n  }\n\n  $scope.searchReportType = function(e) {\n    $scope.isAllSelected = false;\n\n    $scope.reportTypePage = 0;\n\n    var params = {\n      instituteId: $stateParams.instituteId,\n      listId: $stateParams.listId,\n      reportTypePage: $scope.reportTypePage,\n      reportTypeQuery: $scope.reportTypeQuery\n    }\n\n    Services.getReportTypes(params).then(function onSuccess(response) {\n      $scope.numReportTypeResults = response.data.numResults;\n      $scope.report_types = response.data.reportTypes;\n      if (response.data.reportTypes.length == 30) {\n        $scope.loadMoreActive = true;\n      } else {\n        $scope.loadMoreActive = false;\n      }\n    }).catch(function onError(sailsResponse) {\n      console.log('error');\n    }).finally(function eitherWay() {\n      console.log('either way...');\n    });\n\n  }\n\n  $scope.searchTag = function(e) {\n    // $scope.reportTypePage = 0;\n    console.log('search tag...');\n\n    var params = {\n      instituteId: $stateParams.instituteId,\n      listId: $stateParams.listId,\n      // reportTypePage: $scope.reportTypePage,\n      tagQuery: $scope.tagQuery\n    }\n\n    Services.getTags(params).then(function onSuccess(response) {\n      $scope.numTagResults = response.data.numResults;\n      $scope.tags = response.data.tags;\n    }).catch(function onError(sailsResponse) {\n      console.log('error');\n    }).finally(function eitherWay() {\n      console.log('either way...');\n    });\n\n  }\n\n  $scope.addTag = function(tag) {\n    if (!$scope.isAllSelected) {\n      _.forEach($scope.report_types, function(report_type) {\n        var hasTag = _.some(report_type.tags, {'id': tag.id});\n        if (report_type.selected && !hasTag) {\n          report_type.tags.push(tag);\n          var params = {\n            instituteId: $stateParams.instituteId,\n            listId: $stateParams.listId,\n            tagId: tag.id,\n            reportTypeId: report_type.id\n          }\n          Services.addTag(params).then(function onSuccess(response) {\n\n          }).catch(function onError(sailsResponse) {\n            console.log('error');\n          }).finally(function eitherWay() {\n\n          });\n        }\n      });\n    } else {\n      console.log('running select all tag assignment...');\n      _.forEach($scope.report_types, function(report_type) {\n        var hasTag = _.some(report_type.tags, {'id': tag.id});\n        if (report_type.selected && !hasTag) {\n          report_type.tags.push(tag);\n        }\n      });\n      var params = {\n        instituteId: $stateParams.instituteId,\n        listId: $stateParams.listId,\n        tagId: tag.id,\n        reportTypeQuery: $scope.reportTypeQuery\n      }\n      Services.allSelectedAddTag(params).then(function onSuccess(response) {\n\n      }).catch(function onError(sailsResponse) {\n        console.log('error');\n      }).finally(function eitherWay() {\n\n      });\n    }\n  }\n\n  $scope.bulkRemoveTag = function(tag) {\n    if (!$scope.isAllSelected) {\n      _.forEach($scope.report_types, function(report_type) {\n        var hasTag = _.some(report_type.tags, {'id': tag.id});\n        if (report_type.selected && hasTag) {\n          _.remove(report_type.tags, {id: tag.id});\n          var params = {\n            instituteId: $stateParams.instituteId,\n            listId: $stateParams.listId,\n            tagId: tag.id,\n            reportTypeId: report_type.id\n          }\n          Services.removeTag(params).then(function onSuccess(response) {\n\n          }).catch(function onError(sailsResponse) {\n            console.log('error');\n          }).finally(function eitherWay() {\n\n          });\n        }\n      });\n    } else {\n      console.log('running select all tag removal assignment...');\n      _.forEach($scope.report_types, function(report_type) {\n        var hasTag = _.some(report_type.tags, {'id': tag.id});\n        if (report_type.selected && hasTag) {\n          _.remove(report_type.tags, {id: tag.id});\n        }\n      });\n      var params = {\n        instituteId: $stateParams.instituteId,\n        listId: $stateParams.listId,\n        tagId: tag.id,\n        reportTypeQuery: $scope.reportTypeQuery\n      }\n      Services.allSelectedRemoveTag(params).then(function onSuccess(response) {\n\n      }).catch(function onError(sailsResponse) {\n        console.log('error');\n      }).finally(function eitherWay() {\n\n      });\n    }\n  }\n\n  $scope.selectReportType = function(report_type) {\n    if (report_type.selected) {\n      _.forEach($scope.tags, function(tag) {\n        tag.selected = false;\n      });\n    }\n  }\n\n  $scope.deleteTag = function(report_type_id, tag_id) {\n    _.forEach($scope.report_types, function(report_type) {\n      if (report_type.id == report_type_id) {\n        var hasTag = _.some(report_type.tags, {'id': tag_id});\n        if (hasTag) {\n          _.remove(report_type.tags, {id: tag_id});\n          var params = {\n            instituteId: $stateParams.instituteId,\n            listId: $stateParams.listId,\n            tagId: tag_id,\n            reportTypeId: report_type_id\n          }\n          Services.removeTag(params).then(function onSuccess(response) {\n\n          }).catch(function onError(sailsResponse) {\n            console.log('error');\n          }).finally(function eitherWay() {\n\n          });\n        }\n      }\n    });\n  }\n\n  $scope.instituteId = $stateParams.instituteId;\n\n  getInstituteName();\n\n  function getInstituteName() {\n    Services.getInstituteName($stateParams.instituteId).then(function onSuccess(response) {\n      $scope.instituteName = response.data\n    }).catch(function onError(sailsResponse) {\n      console.log('problem getting institute name.');\n    }).finally(function eitherWay() {\n    });\n  }\n\n  //select all\n\n  // $scope.isAllSelected = false;\n\n  $scope.toggleAllReportTypes = function() {\n    var toggleStatus = $scope.isAllSelected;\n    angular.forEach($scope.report_types, function(itm){ itm.selected = toggleStatus; });\n  }\n\n  $scope.reportTypeToggled = function(){\n    $scope.isAllSelected = $scope.report_types.every(function(itm){ return itm.selected; })\n  }\n\n\n}]);\n\n'use strict';\n\n// Declare app level module which depends on views, and components\nangular.module('myApp.list', [\n  'myApp.list.all',\n  'myApp.list.create',\n  'myApp.list.delete',\n  'myApp.list.edit'\n])\n\n'use strict';\n\n// Declare app level module which depends on views, and components\nangular.module('myApp.institutes', [\n  'myApp.institutes.all',\n  'myApp.institutes.create',\n  'myApp.institutes.delete',\n  'myApp.institutes.edit'\n])\n\n'use strict';\n\nangular.module('myApp.login', [])\n\n.controller('LoginCtrl', ['$scope', '$state', '$stateParams', 'userProfile', 'Auth', function($scope, $state, $stateParams, userProfile, Auth) {\n\n  $scope.loginForm = {\n    loading: false\n  }\n\n  $scope.message = $stateParams.message;\n\n  $scope.submitLoginForm = function() {\n\n    $scope.loginForm.loading = true;\n    Auth.signIn($scope.loginForm.credentials).then(function onSuccess() {\n      return userProfile.$refresh();\n    }).then(function() {\n      if (userProfile.$hasRole('ROLE_ADMIN')) {\n        console.log(\"is admin...\");\n        $state.go('app.institutes.all');\n      } else {\n        console.log(\"is not admin...\");\n        $state.go('app.lists.all', { instituteId: userProfile.institute.id });\n      }\n    }).catch(function onError() {\n      $scope.loginForm.loading = false;\n      $scope.loginForm.errors = \"Please enter correct email/password\";\n    });\n  }\n\n}]);\n\nangular.module('myApp.services', [])\n\n.service(\"Services\", [\"$http\", \"EnvironmentConfig\", function ($http, EnvironmentConfig) {\n\n  this.getReportTypes = function(params) {\n    return $http.get(EnvironmentConfig.API_URL+'/institutes/'+params.instituteId+'/lists/'+params.listId+'/reportTypes?page='+params.reportTypePage+'&query='+params.reportTypeQuery)\n  }\n\n  this.getToken = function() {\n    return $http.get(EnvironmentConfig.API_URL+'/getToken');\n  }\n\n  this.getTags = function(params) {\n    return $http.get(EnvironmentConfig.API_URL+'/institutes/'+params.instituteId+'/lists/'+params.listId+'/tags?query='+params.tagQuery)\n  }\n\n  this.addTag = function(params) {\n    var payload = {\n      reportTypeId: params.reportTypeId,\n      tagId: params.tagId\n    };\n    return $http.post(EnvironmentConfig.API_URL+'/institutes/'+params.instituteId+'/lists/'+params.listId+'/addTag', payload)\n  }\n\n  this.allSelectedAddTag = function(params) {\n    var payload = {\n      reportTypeQuery: params.reportTypeQuery,\n      tagId: params.tagId\n    };\n    return $http.post(EnvironmentConfig.API_URL+'/institutes/'+params.instituteId+'/lists/'+params.listId+'/allSelectedAddTag', payload)\n  }\n\n  this.removeTag = function(params) {\n    var payload = {\n      reportTypeId: params.reportTypeId,\n      tagId: params.tagId\n    };\n    return $http.post(EnvironmentConfig.API_URL+'/institutes/'+params.instituteId+'/lists/'+params.listId+'/removeTag', payload)\n  }\n\n  this.allSelectedRemoveTag = function(params) {\n    var payload = {\n      reportTypeQuery: params.reportTypeQuery,\n      tagId: params.tagId\n    };\n    return $http.post(EnvironmentConfig.API_URL+'/institutes/'+params.instituteId+'/lists/'+params.listId+'/allSelectedRemoveTag', payload)\n  }\n\n  this.createTag = function(name) {\n    return $http.post(EnvironmentConfig.API_URL+'/tags', { name: name });\n  }\n\n  this.getTagCount = function() {\n    return $http.get(EnvironmentConfig.API_URL+'/tags/count')\n  }\n\n  this.getInstitutes = function() {\n    return $http.get(EnvironmentConfig.API_URL+'/institutes')\n  }\n\n  this.createInstitute = function(name) {\n    return $http.post(EnvironmentConfig.API_URL+'/institutes', { name: name });\n  }\n\n  this.getInstitute = function(instituteId) {\n    return $http.get(EnvironmentConfig.API_URL+'/institutes/'+instituteId);\n  }\n\n  this.editInstitute = function(params) {\n    return $http.post(EnvironmentConfig.API_URL+'/institutes/'+params.instituteId, { name: params.name });\n  }\n\n  this.deleteInstitute = function(instituteId) {\n    return $http.delete(EnvironmentConfig.API_URL+'/institutes/'+instituteId);\n  }\n\n  this.getInstituteName = function(instituteId) {\n    return $http.get(EnvironmentConfig.API_URL+'/institutes/'+instituteId+'/name');\n  }\n\n  this.getUsers = function() {\n    return $http.get(EnvironmentConfig.API_URL+'/users');\n  }\n\n  this.activateUser = function(user) {\n    return $http.post(EnvironmentConfig.API_URL+'/users/'+user.id+'/activate', { activate: user.activated });\n  }\n\n  this.deleteUser = function(userId) {\n    return $http.delete(EnvironmentConfig.API_URL+'/users/'+userId);\n  }\n\n}])\n\nangular.module(\"myApp.config\", [])\n.constant(\"EnvironmentConfig\", {\"API_URL\":\"http://report-type-mapper.hdap.gatech.edu:1338\"});\n\nangular.module('myApp.UserProfile', [])\n\n.factory(\"UserProfile\", [\"Auth\", function (Auth) {\n\n  var userProfile = {};\n\n  var clearUserProfile = function () {\n    for (var prop in userProfile) {\n      if (userProfile.hasOwnProperty(prop)) {\n        delete userProfile[prop];\n      }\n    }\n  };\n\n  var fetchUserProfile = function () {\n    return Auth.getProfile().then(function (response) {\n      clearUserProfile();\n      return angular.extend(userProfile, response.data, {\n\n        $refresh: fetchUserProfile,\n\n        $hasRole: function (role) {\n          if (!userProfile.roles) {\n            return false;\n          }\n          return userProfile.roles.indexOf(role) >= 0;\n        },\n\n        $hasAnyRole: function (roles) {\n          return !!userProfile.roles.filter(function (role) {\n            return roles.indexOf(role) >= 0;\n          }).length;\n        },\n\n        $isAnonymous: function () {\n          return userProfile.anonymous;\n        },\n\n        $isAuthenticated: function () {\n          return userProfile.userId;\n        },\n\n        $isPending: function () {\n          if (!userProfile.roles) {\n            return false;\n          }\n          return userProfile.roles.indexOf('ROLE_PENDING_USER') >= 0;\n        }\n\n      });\n    });\n  };\n\n  return fetchUserProfile();\n\n}])\n\nangular.module('myApp.Auth', [])\n\n.service(\"Auth\", [\"$http\", \"EnvironmentConfig\", function ($http, EnvironmentConfig) {\n\n\n\n  this.getProfile = function () {\n    return $http.get(EnvironmentConfig.API_URL+\"/me\");\n  };\n\n  this.signIn = function(credentials) {\n    return $http.post(EnvironmentConfig.API_URL+\"/login\", credentials).then(function (response) {\n      // authentication succeeded, store the response access token somewhere (if any)\n    });\n  };\n\n  this.signUp = function(params) {\n    return $http.post(EnvironmentConfig.API_URL+\"/signup\", params);\n  }\n\n  this.logout = function() {\n    return $http.get(EnvironmentConfig.API_URL+\"/logout\");\n  };\n\n}])\n\n'use strict';\n\nangular.module('myApp.Access', [])\n\n.factory(\"Access\", [\"$q\", \"UserProfile\", function ($q, UserProfile) {\n\n  var Access = {\n\n    OK: 200,\n\n    // \"we don't know who you are, so we can't say if you're authorized to access\n    // this resource or not yet, please sign in first\"\n    UNAUTHORIZED: 401,\n\n    // \"we know who you are, and your profile does not allow you to access this resource\"\n    FORBIDDEN: 403,\n\n    hasRole: function (role) {\n      return UserProfile.then(function (userProfile) {\n        if (userProfile.$hasRole(role)) {\n          return Access.OK;\n        } else if (userProfile.$isAnonymous()) {\n          return $q.reject(Access.UNAUTHORIZED);\n        } else {\n          return $q.reject(Access.FORBIDDEN);\n        }\n      });\n    },\n\n    hasAnyRole: function (roles) {\n      return UserProfile.then(function (userProfile) {\n        if (userProfile.$hasAnyRole(roles)) {\n          return Access.OK;\n        } else if (userProfile.$isAnonymous()) {\n          return $q.reject(Access.UNAUTHORIZED);\n        } else {\n          return $q.reject(Access.FORBIDDEN);\n        }\n      });\n    },\n\n    isAnonymous: function () {\n      return UserProfile.then(function (userProfile) {\n        if (userProfile.$isAnonymous()) {\n          return Access.OK;\n        } else {\n          return $q.reject(Access.FORBIDDEN);\n        }\n      });\n    },\n\n    isAuthenticated: function () {\n      return UserProfile.then(function (userProfile) {\n        if (userProfile.$isAuthenticated() && !userProfile.$isPending()) {\n          return Access.OK;\n        } else if (userProfile.$isPending()) {\n          return $q.reject(Access.PENDING_ADMIN_APPROVAL);\n        } else {\n          return $q.reject(Access.UNAUTHORIZED);\n        }\n      });\n    }\n\n  };\n\n  return Access;\n\n}])\n\n'use strict';\n\n/* @nginject */\n// Declare app level module which depends on views, and components\nangular.module('app', [\n  'ui.router',\n  'toastr',\n  'ngAnimate',\n  'LocalStorageModule',\n  'myApp.config',\n  'myApp.map',\n  'myApp.tag',\n  'myApp.token',\n  'myApp.users',\n  'myApp.login',\n  'myApp.logout',\n  'myApp.register',\n  'myApp.list',\n  'myApp.pending',\n  'myApp.institutes',\n  'myApp.Access',\n  'myApp.Auth',\n  'myApp.services',\n  'myApp.UserProfile',\n  'myApp.nav'\n])\n.config(['$stateProvider', '$urlRouterProvider', function($stateProvider, $urlRouterProvider) {\n  $stateProvider\n    .state('app', {\n      abstract: true,\n      templateUrl: 'app/views/app.html',\n      resolve: {\n        userProfile: \"UserProfile\"\n      }\n    })\n    .state('app.login', {\n      url: '/login',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html',\n          controller: 'NavCtrl'\n        },\n        'main@app': {\n          templateUrl: 'app/views/login/login.html',\n          controller: 'LoginCtrl'\n        }\n      },\n      params: {\n        message: null\n      }\n    })\n    .state('app.register', {\n      url: '/register',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html',\n          controller: 'NavCtrl'\n        },\n        'main@app': {\n          templateUrl: 'app/views/register/register.html',\n          controller: 'RegisterCtrl'\n        }\n      }\n    })\n    .state('app.logout', {\n      url: '/logout',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html'\n        },\n        'main@app': {\n          templateUrl: 'app/views/logout/logout.html',\n          controller: 'LogoutCtrl'\n        }\n      }\n    })\n    // *** USERS ***\n    .state('app.users', {\n      abstract: true\n    })\n    .state('app.users.all', {\n      url: '/users',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html',\n          controller: 'NavCtrl'\n        },\n        'main@app': {\n          templateUrl: 'app/views/users/all/all.html',\n          controller: 'UsersAllCtrl'\n        }\n      },\n      resolve: {\n        access: [\"Access\", function(Access) { return Access.hasRole('ROLE_ADMIN'); }]\n      }\n    })\n    .state('app.users.delete', {\n      url: '/users/:userId/delete',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html',\n          controller: 'NavCtrl'\n        },\n        'main@app': {\n          templateUrl: 'app/views/users/delete/delete.html',\n          controller: 'UsersDeleteCtrl'\n        }\n      },\n      resolve: {\n        access: [\"Access\", function(Access) { return Access.hasRole('ROLE_ADMIN'); }]\n      }\n    })\n    // *** INSTITUTE ***\n    .state('app.institutes', {\n      abstract: true\n    })\n    .state('app.institutes.all', {\n      url: '/institutes',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html',\n          controller: 'NavCtrl'\n        },\n        'main@app': {\n          templateUrl: 'app/views/institutes/all/all.html',\n          controller: 'InstitutesAllCtrl'\n        }\n      },\n      resolve: {\n        access: [\"Access\", function(Access) { return Access.hasRole('ROLE_ADMIN'); }]\n        // userProfile: \"UserProfile\"\n      }\n    })\n    .state('app.institutes.create', {\n      url: '/institutes/create',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html',\n          controller: 'NavCtrl'\n        },\n        'main@app': {\n          templateUrl: 'app/views/institutes/create/create.html',\n          controller: 'InstitutesCreateCtrl'\n        }\n      }\n    })\n    .state('app.institutes.delete', {\n      url: '/institutes/:instituteId/delete',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html',\n          controller: 'NavCtrl'\n        },\n        'main@app': {\n          templateUrl: 'app/views/institutes/delete/delete.html',\n          controller: 'InstitutesDeleteCtrl'\n        }\n      }\n    })\n    .state('app.institutes.edit', {\n      url: '/institutes/:instituteId/edit',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html',\n          controller: 'NavCtrl'\n        },\n        'main@app': {\n          templateUrl: 'app/views/institutes/edit/edit.html',\n          controller: 'InstitutesEditCtrl'\n        }\n      }\n    })\n\n\n    .state('app.map', {\n      url: '/institutes/:instituteId/lists/:listId/map',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html',\n          controller: 'NavCtrl'\n        },\n        'main@app': {\n          templateUrl: 'app/views/map/map.html',\n          controller: 'MapCtrl'\n        }\n      },\n      resolve: {\n        access: [\"Access\", function(Access) { return Access.isAuthenticated(); }]\n        // userProfile: \"UserProfile\"\n      }\n    })\n    .state('app.tags', {\n      url: '/tags',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html',\n          controller: 'NavCtrl'\n        },\n        'main@app': {\n          templateUrl: 'app/views/tag/tag.html',\n          controller: 'TagCtrl'\n        }\n      },\n      resolve: {\n        access: [\"Access\", function(Access) { return Access.isAuthenticated(); }],\n      }\n    })\n    .state('app.token', {\n      url: '/token',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html',\n          controller: 'NavCtrl'\n        },\n        'main@app': {\n          templateUrl: 'app/views/token/token.html',\n          controller: 'TokenCtrl'\n        }\n      },\n      resolve: {\n        access: [\"Access\", function(Access) { return Access.isAuthenticated(); }],\n      }\n    })\n    // *** LIST ***\n    .state('app.list', {\n      abstract: true\n    })\n    .state('app.list.all', {\n      url: '/institutes/:instituteId/lists',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html',\n          controller: 'NavCtrl'\n        },\n        'main@app': {\n          templateUrl: 'app/views/list/all/all.html',\n          controller: 'ListAllCtrl'\n        }\n      },\n      resolve: {\n        access: [\"Access\", function(Access) { return Access.isAuthenticated(); }],\n      }\n    })\n    .state('app.list.create', {\n      url: '/institutes/:instituteId/lists/create',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html',\n          controller: 'NavCtrl'\n        },\n        'main@app': {\n          templateUrl: 'app/views/list/create/create.html',\n          controller: 'ListCreateCtrl'\n        }\n      },\n      resolve: {\n        access: [\"Access\", function(Access) { return Access.isAuthenticated(); }],\n      }\n    })\n    .state('app.list.delete', {\n      url: '/institute/:instituteId/list/:listId/delete',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html',\n          controller: 'NavCtrl'\n        },\n        'main@app': {\n          templateUrl: 'app/views/list/delete/delete.html',\n          controller: 'ListDeleteCtrl'\n        }\n      }\n    })\n    .state('app.list.edit', {\n      url: '/institute/:instituteId/list/:listId/edit',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html',\n          controller: 'NavCtrl'\n        },\n        'main@app': {\n          templateUrl: 'app/views/list/edit/edit.html',\n          controller: 'ListEditCtrl'\n        }\n      }\n    })\n    // *** PENDING ***\n    .state('app.pending', {\n      url: '/pending',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html',\n          controller: 'NavCtrl'\n        },\n        'main@app': {\n          templateUrl: 'app/views/pending/pending.html',\n          controller: 'PendingCtrl'\n        }\n      }\n    })\n\n  $urlRouterProvider.otherwise('/login');\n}])\n.config(['$locationProvider', '$httpProvider', function($locationProvider, $httpProvider) {\n  $locationProvider.hashPrefix('!');\n  $httpProvider.defaults.withCredentials = true;\n}])\n// run([\"Access\", \"$state\", \"$log\", \"$transitions\", function (, Access, $state, $log, $transitions) {\n//\n//   $transitions.onError({}, (transition) => {\n//\n//     switch (transition.error().detail) {\n//       case Access.UNAUTHORIZED:\n//         $state.go(\"app.login\", { message: 'User unauthorized, login first.' });\n//         break;\n//\n//       case Access.FORBIDDEN:\n//\n//         $state.go(\"/forbidden\");\n//         break;\n//\n//       case Access.PENDING_ADMIN_APPROVAL:\n//         $state.go(\"/pending\");\n//         break;\n//\n//       default:\n//         $log.warn(\"$stateChangeError event catched\");\n//         break;\n//     }\n//   });\n//\n// }])\n\n\n.run([\"$rootScope\", \"Access\", \"$state\", \"$log\", function ($rootScope, Access, $state, $log) {\n\n  $rootScope.$on(\"$stateChangeError\", function (event, toState, toParams, fromState, fromParams, error) {\n\n    console.log('state error triggered!!!');\n    switch (error) {\n\n      case Access.UNAUTHORIZED:\n        console.log('unauth!!!');\n        $state.go(\"app.login\", { message: 'You are unauthorized to do that.' });\n        break;\n\n      case Access.FORBIDDEN:\n        console.log('forbidden!!!');\n        $state.go(\"app.login\", { message: 'You lack privileges to do that.' });\n        break;\n\n      case Access.PENDING_ADMIN_APPROVAL:\n        $state.go(\"app.pending\");\n        break;\n\n      default:\n        $log.warn(\"$stateChangeError event catched\");\n        break;\n\n    }\n  });\n\n}])\n\nangular.module('app').run(['$templateCache', function($templateCache) {$templateCache.put('app/views/app.html','<div ui-view=nav></div><div ui-view=main class=main></div>');\n$templateCache.put('app/views/login/login.html','<section class=section><div class=container><div class=\"columns is-centered\"><div class=\"column is-half\"><nav class=panel><p class=panel-heading>Login</p><div class=panel-block style=display:block><div class=\"notification is-warning login-warning\" ng-show=message>{{message}}</div><div class=field><p class=\"control has-icons-left has-icons-right\"><input class=input type=email placeholder=Email ng-model=loginForm.credentials.email> <span class=\"icon is-small is-left\"><i class=\"fa fa-envelope\"></i> </span><span class=\"icon is-small is-right\"><i class=\"fa fa-check\"></i></span></p></div><div class=field><p class=\"control has-icons-left\"><input class=input type=password placeholder=Password ng-model=loginForm.credentials.password> <span class=\"icon is-small is-left\"><i class=\"fa fa-lock\"></i></span></p></div><div class=field><p class=control><button class=\"button is-link is-large is-outlined is-fullwidth\" ng-class=\"loginForm.loading ? \\'is-loading\\' : \\'\\'\" ng-click=submitLoginForm()>Login</button></p></div><div class=\"notification is-danger\" ng-show=loginForm.errors>{{loginForm.errors}}</div></div></nav></div></div></div></section>');\n$templateCache.put('app/views/logout/logout.html','<section class=section><div class=container><div class=\"notification is-link\">You have been logged out.</div></div></section>');\n$templateCache.put('app/views/map/map.html','<!-- NAV --><nav id=navbar class=\"navbar is-fixed-top\" style=\"transform: translateY(0px);\"><div id=specialShadow class=bd-special-shadow style=\"opacity: 1; transform: scaleY(1);\"></div><div class=container><div class=navbar-brand><a class=navbar-item href=/ ><span>Report Type Mapper</span></a><div id=navbarBurger class=\"navbar-burger burger\" data-target=navMenuDocumentation><span></span> <span></span> <span></span></div></div><div id=navMenuDocumentation class=navbar-menu><div class=navbar-end><a class=navbar-item><span class=\"tag is-danger is-medium\" ng-show=\"userProfile.$hasRole(\\'ROLE_ADMIN\\')\">Admin</span> </a><a class=navbar-item href=/#!/institutes ng-show=\"userProfile.$hasRole(\\'ROLE_ADMIN\\')\">Institutes </a><a class=navbar-item href=/#!/tags ng-show=\"userProfile.$hasRole(\\'ROLE_ADMIN\\')\">Tags</a><div class=\"navbar-item has-dropdown is-hoverable\" ng-show=userProfile.$isAuthenticated()><a class=navbar-link href=/#!/token>Settings</a><div class=navbar-dropdown><a class=navbar-item href=/#!/token>API Token </a><a class=navbar-item href=/#!/logout>Logout</a></div></div><div class=navbar-item ng-hide=userProfile.$isAuthenticated()><div class=\"field is-grouped\"><p class=control><a class=\"is-link is-outlined button\" href=#!/register><span class=icon><i class=\"fa fa-user-plus\"></i> </span><span>Register</span></a></p><p class=control><a class=\"button is-primary\" href=#!/login><span class=icon><i class=\"fa fa-sign-in\"></i> </span><span>Login</span></a></p></div></div></div></div></div></nav><section class=section><div class=container><nav class=\"breadcrumb has-arrow-separator\" aria-label=breadcrumbs><ul><li><a href=#>{{instituteName}}</a></li><li><a href=/#!/institutes/{{instituteId}}/lists>Lists</a></li><li class=is-active><a href=# aria-current=page>Map</a></li></ul></nav><div class=columns><div class=column><nav class=panel><p class=panel-heading>Report Types <span class=\"tag is-light\">{{numReportTypeResults}}&nbsp;results</span></p><div class=panel-block><p class=\"control has-icons-left\"><input class=\"input is-small\" type=text placeholder=search ng-model=reportTypeQuery ng-keyup=searchReportType($event)> <span class=\"icon is-small is-left\"><i class=\"fa fa-search\"></i></span></p></div><div class=panel-block><input type=checkbox ng-model=isAllSelected ng-click=toggleAllReportTypes()> <span>Select All</span></div><!-- <p class=\"panel-tabs\">\\n            <a class=\"is-active\">all</a>\\n            <a>public</a>\\n            <a>private</a>\\n            <a>sources</a>\\n            <a>forks</a>\\n          </p> --><div id=report-type-list><div class=\"panel-block report_type-panel-block\" data-id={{report_type.id}} ng-repeat=\"report_type in report_types\"><div class=report_type-info><input type=checkbox ng-model=report_type.selected ng-click=selectReportType(report_type) ng-change=reportTypeToggled()> <span>{{report_type.name}}</span></div><div class=\"field is-grouped is-grouped-multiline tag-list\"><div class=control data-id={{tag.id}} ng-repeat=\"tag in report_type.tags\"><div class=\"tags has-addons\"><span class=tag>{{tag.documentSubjectMatterDomain}}</span> <span class=\"tag is-danger cross\" ng-click=deleteTag(report_type.id,tag.id)><i class=\"fa fa-times\"></i></span></div></div></div></div><div class=\"panel-block load-next-page\" ng-show=loadMoreActive>Load More</div></div><!-- <label class=\"panel-block\">\\n            <input type=\"checkbox\">\\n            remember me\\n          </label> --><!-- <div class=\"panel-block\">\\n            <button class=\"button is-link is-outlined is-fullwidth\">\\n              reset all filters\\n            </button>\\n          </div> --></nav></div><div class=column><nav id=tags class=panel><p class=panel-heading>Tags <span class=\"tag is-light\">{{numTagResults}}&nbsp;results</span></p><div class=panel-block><p class=\"control has-icons-left\"><input class=\"input is-small\" type=text placeholder=\"search tags\" ng-model=tagQuery ng-keyup=searchTag($event)> <span class=\"icon is-small is-left\"><i class=\"fa fa-search\"></i></span></p></div><!-- <p class=\"panel-tabs\">\\n            <a class=\"is-active\">all</a>\\n            <a>public</a>\\n            <a>private</a>\\n            <a>sources</a>\\n            <a>forks</a>\\n          </p> --><div id=tag-list><div class=panel-block data-id={{tag.id}} ng-repeat=\"tag in tags\"><a class=\"button is-info is-outlined is-small\" ng-click=addTag(tag)>Add Tag</a>&nbsp;&nbsp; <a class=\"button is-danger is-outlined is-small\" ng-click=bulkRemoveTag(tag)>Remove Tag</a>&nbsp;&nbsp; <span>{{tag.documentSubjectMatterDomain}}</span></div></div><!-- <label class=\"panel-block\">\\n            <input type=\"checkbox\">\\n            remember me\\n          </label> --><!-- <div class=\"panel-block\">\\n            <button class=\"button is-link is-outlined is-fullwidth\">\\n              reset all filters\\n            </button>\\n          </div> --></nav></div></div></div></section>');\n$templateCache.put('app/views/nav/main-nav.html','<!-- NAV --><nav id=navbar class=\"navbar is-fixed-top\" style=\"transform: translateY(0px);\"><div id=specialShadow class=bd-special-shadow style=\"opacity: 1; transform: scaleY(1);\"></div><div class=container><div class=navbar-brand><a class=navbar-item href=/ ><span>Report Type Mapper</span></a><div id=navbarBurger class=\"navbar-burger burger\" data-target=navMenuDocumentation><span></span> <span></span> <span></span></div></div><div id=navMenuDocumentation class=navbar-menu><div class=navbar-end><a class=navbar-item href=/#!/users ng-show=\"userProfile.$hasRole(\\'ROLE_ADMIN\\')\">Users </a><a class=navbar-item><span class=\"tag is-danger is-medium\" ng-show=\"userProfile.$hasRole(\\'ROLE_ADMIN\\')\">Admin</span> </a><a class=navbar-item href=/#!/institutes ng-show=\"userProfile.$hasRole(\\'ROLE_ADMIN\\')\">Institutes </a><a class=navbar-item href=/#!/tags ng-show=\"userProfile.$hasRole(\\'ROLE_ADMIN\\')\">Tags</a><div class=\"navbar-item has-dropdown is-hoverable\" ng-show=userProfile.$isAuthenticated()><a class=navbar-link href=/#!/token>Settings</a><div class=navbar-dropdown><a class=navbar-item href=/#!/token>API Token </a><a class=navbar-item href=/#!/logout>Logout</a></div></div><div class=navbar-item ng-hide=userProfile.$isAuthenticated()><div class=\"field is-grouped\"><p class=control><a class=\"is-link is-outlined button\" href=#!/register><span class=icon><i class=\"fa fa-user-plus\"></i> </span><span>Register</span></a></p><p class=control><a class=\"button is-primary\" href=#!/login><span class=icon><i class=\"fa fa-sign-in\"></i> </span><span>Login</span></a></p></div></div></div></div></div></nav>');\n$templateCache.put('app/views/pending/pending.html','<section class=section><div class=container><div class=\"notification is-success\">Thank you for registering. Your account activation is pending admin approval. After approval, you will be emailed and you will then be able to login and access your account.</div></div></section>');\n$templateCache.put('app/views/register/register.html','<section class=section><div class=container><div class=\"columns is-centered\"><div class=\"column is-half\"><nav class=panel><p class=panel-heading>Register</p><div class=panel-block style=display:block><div class=field><div class=control><input class=input type=text placeholder=\"First name\" ng-model=registerForm.firstName></div></div><div class=field><div class=control><input class=input type=text placeholder=\"Last name\" ng-model=registerForm.lastName></div></div><div class=field><div class=control><div class=select style=display:block;><select style=width:100%; ng-model=registerForm.selectedInstitute ng-options=\"institute.name for institute in institutes track by institute.id\"><!-- <option ng-repeat=\"institute in institutes\" ng-value=\"{{institute.id}}\">{{institute.name}}</option> --></select></div></div></div><div class=field><p class=\"control has-icons-left has-icons-right\"><input class=input type=email placeholder=Email ng-model=registerForm.email> <span class=\"icon is-small is-left\"><i class=\"fa fa-envelope\"></i> </span><span class=\"icon is-small is-right\"><i class=\"fa fa-check\"></i></span></p></div><div class=field><p class=\"control has-icons-left\"><input class=input type=password placeholder=Password ng-model=registerForm.password> <span class=\"icon is-small is-left\"><i class=\"fa fa-lock\"></i></span></p></div><div class=field><p class=control><button class=\"button is-link is-large is-outlined is-fullwidth\" ng-click=register()>Register</button></p></div><div class=\"notification is-danger\" ng-show=registerForm.errors>{{registerForm.errors}}</div></div></nav></div></div></div></section>');\n$templateCache.put('app/views/tag/tag.html','<!-- NAV --><nav id=navbar class=\"navbar is-fixed-top\" style=\"transform: translateY(0px);\"><div id=specialShadow class=bd-special-shadow style=\"opacity: 1; transform: scaleY(1);\"></div><div class=container><div class=navbar-brand><a class=navbar-item href=/ ><span>Report Type Mapper</span></a><div id=navbarBurger class=\"navbar-burger burger\" data-target=navMenuDocumentation><span></span> <span></span> <span></span></div></div><div id=navMenuDocumentation class=navbar-menu><div class=navbar-end><a class=navbar-item><span class=\"tag is-danger is-medium\" ng-show=\"userProfile.$hasRole(\\'ROLE_ADMIN\\')\">Admin</span> </a><a class=navbar-item href=/#!/institutes ng-show=\"userProfile.$hasRole(\\'ROLE_ADMIN\\')\">Institutes </a><a class=navbar-item href=/#!/tags ng-show=\"userProfile.$hasRole(\\'ROLE_ADMIN\\')\">Tags</a><div class=\"navbar-item has-dropdown is-hoverable\" ng-show=userProfile.$isAuthenticated()><a class=navbar-link href=/#!/token>Settings</a><div class=navbar-dropdown><a class=navbar-item href=/#!/token>API Token </a><a class=navbar-item href=/#!/logout>Logout</a></div></div><div class=navbar-item ng-hide=userProfile.$isAuthenticated()><div class=\"field is-grouped\"><p class=control><a class=\"is-link is-outlined button\" href=#!/register><span class=icon><i class=\"fa fa-user-plus\"></i> </span><span>Register</span></a></p><p class=control><a class=\"button is-primary\" href=#!/login><span class=icon><i class=\"fa fa-sign-in\"></i> </span><span>Login</span></a></p></div></div></div></div></div></nav><section class=section><div class=container><div class=columns><div class=column><h3 class=\"title is-3\">Add Tags <span class=\"tag is-light\">Total: {{numTags}}</span></h3><!-- <div class=\"field is-grouped\">\\n          <p class=\"control is-expanded\">\\n            <input class=\"input\" type=\"text\" placeholder=\"Add a tag\" ng-model=\"tagName\"/>\\n          </p>\\n          <p class=\"control\">\\n            <a class=\"button is-primary\" ng-click=\"createTag()\">\\n              Create\\n            </a>\\n          </p>\\n        </div>\\n        <p class=\"help is-danger\" ng-show=\"tagAlreadyExists\">The tag already exists.</p> --><form ng-submit=createTags()><div class=field><label class=label>Upload LOINC Ontology Document</label><!-- <div class=\"control\">\\n              <div class=\"file has-name\">\\n                <label class=\"file-label\">\\n                  <input class=\"file-input\" type=\"file\" fileread=\"list.reportTypes\">\\n                  <span class=\"file-cta\">\\n                    <span class=\"file-icon\">\\n                      <i class=\"fa fa-upload\"></i>\\n                    </span>\\n                    <span class=\"file-label\">\\n                      Choose a file\\u2026\\n                    </span>\\n                  </span>\\n                </label>\\n              </div>\\n            </div> --><!-- <p class=\"help\">Select a csv file to upload report types</p> --><!-- <div class=\"control\"> --><file-field class=button ng-model=tagFile>Select file</file-field><!-- </div> --></div><div class=field><label class=label>File Format</label><div class=control><label class=radio><input type=radio ng-model=fileFormat value=simple> Simple</label> <label class=radio><input type=radio ng-model=fileFormat value=complex> Complex</label></div></div><div class=field><div class=control><input type=submit class=\"button is-link\"></div></div></form></div><div class=column></div></div></div></section>');\n$templateCache.put('app/views/token/token.html','<!-- NAV --><nav id=navbar class=\"navbar is-fixed-top\" style=\"transform: translateY(0px);\"><div id=specialShadow class=bd-special-shadow style=\"opacity: 1; transform: scaleY(1);\"></div><div class=container><div class=navbar-brand><a class=navbar-item href=/ ><span>Report Type Mapper</span></a><div id=navbarBurger class=\"navbar-burger burger\" data-target=navMenuDocumentation><span></span> <span></span> <span></span></div></div><div id=navMenuDocumentation class=navbar-menu><div class=navbar-end><a class=navbar-item><span class=\"tag is-danger is-medium\" ng-show=\"userProfile.$hasRole(\\'ROLE_ADMIN\\')\">Admin</span> </a><a class=navbar-item href=/#!/institutes ng-show=\"userProfile.$hasRole(\\'ROLE_ADMIN\\')\">Institutes </a><a class=navbar-item href=/#!/tags ng-show=\"userProfile.$hasRole(\\'ROLE_ADMIN\\')\">Tags</a><div class=\"navbar-item has-dropdown is-hoverable\" ng-show=userProfile.$isAuthenticated()><a class=navbar-link href=/#!/token>Settings</a><div class=navbar-dropdown><a class=navbar-item href=/#!/token>API Token </a><a class=navbar-item href=/#!/logout>Logout</a></div></div><div class=navbar-item ng-hide=userProfile.$isAuthenticated()><div class=\"field is-grouped\"><p class=control><a class=\"is-link is-outlined button\" href=#!/register><span class=icon><i class=\"fa fa-user-plus\"></i> </span><span>Register</span></a></p><p class=control><a class=\"button is-primary\" href=#!/login><span class=icon><i class=\"fa fa-sign-in\"></i> </span><span>Login</span></a></p></div></div></div></div></div></nav><section class=section><div class=container><div class=columns><div class=column><p>Token: <b>{{apiToken}}</b></p></div><div class=column></div></div></div></section>');\n$templateCache.put('app/views/institutes/all/all.html','<section class=section><div class=container><h3 class=\"title is-3\">Institutes</h3><table class=\"table is-bordered is-fullwidth is-narrow is-striped\" ng-show=\"institutes.length > 0\"><thead><tr><th>Name</th><th># of Lists</th><th>Action</th></tr></thead><tbody><tr ng-repeat=\"institute in institutes\"><td>{{institute.name}}</td><td>{{institute.lists.length}}</td><td><a class=\"button is-small is-info is-outlined\" href=/#!/institutes/{{institute.id}}/lists>View Lists</a> <a class=\"button is-small is-info is-outlined\" href=/#!/institutes/{{institute.id}}/edit>Edit</a> <a class=\"button is-small is-info is-outlined\" href=/#!/institutes/{{institute.id}}/delete>Delete</a></td></tr></tbody></table><div class=\"notification is-warning\" ng-show=\"institutes.length == 0\">The are currently no institutes to show. <strong>Try creating an institute below.</strong> The institute will then become available to choose during user registration.</div><a class=\"button is-success\" href=/#!/institutes/create>Create Institute</a></div></section>');\n$templateCache.put('app/views/institutes/delete/delete.html','<!-- NAV --><nav id=navbar class=\"navbar is-fixed-top\" style=\"transform: translateY(0px);\"><div id=specialShadow class=bd-special-shadow style=\"opacity: 1; transform: scaleY(1);\"></div><div class=container><div class=navbar-brand><a class=navbar-item href=/ ><span>Report Type Mapper</span></a><div id=navbarBurger class=\"navbar-burger burger\" data-target=navMenuDocumentation><span></span> <span></span> <span></span></div></div><div id=navMenuDocumentation class=navbar-menu><div class=navbar-end><a class=navbar-item><span class=\"tag is-danger is-medium\" ng-show=\"userProfile.$hasRole(\\'ROLE_ADMIN\\')\">Admin</span> </a><a class=navbar-item href=/#!/institutes ng-show=\"userProfile.$hasRole(\\'ROLE_ADMIN\\')\">Institutes </a><a class=navbar-item href=/#!/tags ng-show=\"userProfile.$hasRole(\\'ROLE_ADMIN\\')\">Tags</a><div class=\"navbar-item has-dropdown is-hoverable\" ng-show=userProfile.$isAuthenticated()><a class=navbar-link href=/#!/token>Settings</a><div class=navbar-dropdown><a class=navbar-item href=/#!/token>API Token </a><a class=navbar-item href=/#!/logout>Logout</a></div></div><div class=navbar-item ng-hide=userProfile.$isAuthenticated()><div class=\"field is-grouped\"><p class=control><a class=\"is-link is-outlined button\" href=#!/register><span class=icon><i class=\"fa fa-user-plus\"></i> </span><span>Register</span></a></p><p class=control><a class=\"button is-primary\" href=#!/login><span class=icon><i class=\"fa fa-sign-in\"></i> </span><span>Login</span></a></p></div></div></div></div></div></nav><section class=section><div class=container><div class=columns><div class=column><h3 class=\"title is-6\">Are you sure you want to delete this institute?</h3><a class=\"button is-danger\" ng-click=deleteInstitute()>Delete</a></div><div class=column></div></div></div></section>');\n$templateCache.put('app/views/institutes/create/create.html','<!-- NAV --><nav id=navbar class=\"navbar is-fixed-top\" style=\"transform: translateY(0px);\"><div id=specialShadow class=bd-special-shadow style=\"opacity: 1; transform: scaleY(1);\"></div><div class=container><div class=navbar-brand><a class=navbar-item href=/ ><span>Report Type Mapper</span></a><div id=navbarBurger class=\"navbar-burger burger\" data-target=navMenuDocumentation><span></span> <span></span> <span></span></div></div><div id=navMenuDocumentation class=navbar-menu><div class=navbar-end><a class=navbar-item><span class=\"tag is-danger is-medium\" ng-show=\"userProfile.$hasRole(\\'ROLE_ADMIN\\')\">Admin</span> </a><a class=navbar-item href=/#!/institutes ng-show=\"userProfile.$hasRole(\\'ROLE_ADMIN\\')\">Institutes </a><a class=navbar-item href=/#!/tags ng-show=\"userProfile.$hasRole(\\'ROLE_ADMIN\\')\">Tags</a><div class=\"navbar-item has-dropdown is-hoverable\" ng-show=userProfile.$isAuthenticated()><a class=navbar-link href=/#!/token>Settings</a><div class=navbar-dropdown><a class=navbar-item href=/#!/token>API Token </a><a class=navbar-item href=/#!/logout>Logout</a></div></div><div class=navbar-item ng-hide=userProfile.$isAuthenticated()><div class=\"field is-grouped\"><p class=control><a class=\"is-link is-outlined button\" href=#!/register><span class=icon><i class=\"fa fa-user-plus\"></i> </span><span>Register</span></a></p><p class=control><a class=\"button is-primary\" href=#!/login><span class=icon><i class=\"fa fa-sign-in\"></i> </span><span>Login</span></a></p></div></div></div></div></div></nav><section class=section><div class=container><div class=columns><div class=column><h3 class=\"title is-3\">Institutes</h3><div class=\"field is-grouped\"><p class=\"control is-expanded\"><input class=input type=text placeholder=\"Enter institute name\" ng-model=instituteName></p><p class=control><a class=\"button is-primary\" ng-click=createInstitute()>Create</a></p></div><p class=\"help is-danger\" ng-show=instituteAlreadyExists>The institute already exists.</p></div><div class=column></div></div></div></section>');\n$templateCache.put('app/views/institutes/edit/edit.html','<!-- NAV --><nav id=navbar class=\"navbar is-fixed-top\" style=\"transform: translateY(0px);\"><div id=specialShadow class=bd-special-shadow style=\"opacity: 1; transform: scaleY(1);\"></div><div class=container><div class=navbar-brand><a class=navbar-item href=/ ><span>Report Type Mapper</span></a><div id=navbarBurger class=\"navbar-burger burger\" data-target=navMenuDocumentation><span></span> <span></span> <span></span></div></div><div id=navMenuDocumentation class=navbar-menu><div class=navbar-end><a class=navbar-item><span class=\"tag is-danger is-medium\" ng-show=\"userProfile.$hasRole(\\'ROLE_ADMIN\\')\">Admin</span> </a><a class=navbar-item href=/#!/institutes ng-show=\"userProfile.$hasRole(\\'ROLE_ADMIN\\')\">Institutes </a><a class=navbar-item href=/#!/tags ng-show=\"userProfile.$hasRole(\\'ROLE_ADMIN\\')\">Tags</a><div class=\"navbar-item has-dropdown is-hoverable\" ng-show=userProfile.$isAuthenticated()><a class=navbar-link href=/#!/token>Settings</a><div class=navbar-dropdown><a class=navbar-item href=/#!/token>API Token </a><a class=navbar-item href=/#!/logout>Logout</a></div></div><div class=navbar-item ng-hide=userProfile.$isAuthenticated()><div class=\"field is-grouped\"><p class=control><a class=\"is-link is-outlined button\" href=#!/register><span class=icon><i class=\"fa fa-user-plus\"></i> </span><span>Register</span></a></p><p class=control><a class=\"button is-primary\" href=#!/login><span class=icon><i class=\"fa fa-sign-in\"></i> </span><span>Login</span></a></p></div></div></div></div></div></nav><section class=section><div class=container><div class=columns><div class=column><h3 class=\"title is-3\">Edit Institute</h3><div class=\"field is-grouped\"><p class=\"control is-expanded\"><input class=input type=text placeholder=\"Edit institute name\" ng-model=instituteName></p><p class=control><a class=\"button is-primary\" ng-click=editInstitute()>Edit</a></p></div><p class=\"help is-danger\" ng-show=instituteAlreadyExists>The institute already exists.</p></div><div class=column></div></div></div></section>');\n$templateCache.put('app/views/list/all/all.html','<!-- NAV --><nav id=navbar class=\"navbar is-fixed-top\" style=\"transform: translateY(0px);\"><div id=specialShadow class=bd-special-shadow style=\"opacity: 1; transform: scaleY(1);\"></div><div class=container><div class=navbar-brand><a class=navbar-item href=/ ><span>Report Type Mapper</span></a><div id=navbarBurger class=\"navbar-burger burger\" data-target=navMenuDocumentation><span></span> <span></span> <span></span></div></div><div id=navMenuDocumentation class=navbar-menu><div class=navbar-end><a class=navbar-item><span class=\"tag is-danger is-medium\" ng-show=\"userProfile.$hasRole(\\'ROLE_ADMIN\\')\">Admin</span> </a><a class=navbar-item href=/#!/institutes ng-show=\"userProfile.$hasRole(\\'ROLE_ADMIN\\')\">Institutes </a><a class=navbar-item href=/#!/tags ng-show=\"userProfile.$hasRole(\\'ROLE_ADMIN\\')\">Tags</a><div class=\"navbar-item has-dropdown is-hoverable\" ng-show=userProfile.$isAuthenticated()><a class=navbar-link href=/#!/token>Settings</a><div class=navbar-dropdown><a class=navbar-item href=/#!/token>API Token </a><a class=navbar-item href=/#!/logout>Logout</a></div></div><div class=navbar-item ng-hide=userProfile.$isAuthenticated()><div class=\"field is-grouped\"><p class=control><a class=\"is-link is-outlined button\" href=#!/register><span class=icon><i class=\"fa fa-user-plus\"></i> </span><span>Register</span></a></p><p class=control><a class=\"button is-primary\" href=#!/login><span class=icon><i class=\"fa fa-sign-in\"></i> </span><span>Login</span></a></p></div></div></div></div></div></nav><section class=section><div class=container><nav class=\"breadcrumb has-arrow-separator\" aria-label=breadcrumbs><ul><li><a>{{instituteName}}</a></li><li class=is-active><a href=/#!/institutes/{{instituteId}}/lists>Lists</a></li></ul></nav><table class=\"table is-bordered is-fullwidth is-narrow is-striped\" ng-show=\"lists.length > 0\"><thead><tr><th>Name</th><th># of Report Types</th><th>Action</th></tr></thead><tbody><tr ng-repeat=\"list in lists\"><td>{{list.name}}</td><td>{{list.numOfReportTypes}}</td><td><a class=\"button is-small is-info is-outlined\" href=/#!/institutes/{{list.institute}}/lists/{{list.id}}/map>Map</a> <a class=\"button is-small is-info is-outlined\" href=/#!/institutes/{{list.institute}}/lists/{{list.id}}/edit>Edit</a> <a class=\"button is-small is-info is-outlined\" href=/#!/institutes/{{list.institute}}/lists/{{list.id}}/delete>Delete</a></td></tr></tbody></table><div class=\"notification is-warning\" ng-show=\"lists.length == 0\">The are currently no lists to show. <strong>Try creating a list below.</strong></div><a class=\"button is-success\" href=/#!/institutes/{{instituteId}}/lists/create>Create List</a></div></section>');\n$templateCache.put('app/views/list/create/create.html','<!-- NAV --><nav id=navbar class=\"navbar is-fixed-top\" style=\"transform: translateY(0px);\"><div id=specialShadow class=bd-special-shadow style=\"opacity: 1; transform: scaleY(1);\"></div><div class=container><div class=navbar-brand><a class=navbar-item href=/ ><span>Report Type Mapper</span></a><div id=navbarBurger class=\"navbar-burger burger\" data-target=navMenuDocumentation><span></span> <span></span> <span></span></div></div><div id=navMenuDocumentation class=navbar-menu><div class=navbar-end><a class=navbar-item><span class=\"tag is-danger is-medium\" ng-show=\"userProfile.$hasRole(\\'ROLE_ADMIN\\')\">Admin</span> </a><a class=navbar-item href=/#!/institutes ng-show=\"userProfile.$hasRole(\\'ROLE_ADMIN\\')\">Institutes </a><a class=navbar-item href=/#!/tags ng-show=\"userProfile.$hasRole(\\'ROLE_ADMIN\\')\">Tags</a><div class=\"navbar-item has-dropdown is-hoverable\" ng-show=userProfile.$isAuthenticated()><a class=navbar-link href=/#!/token>Settings</a><div class=navbar-dropdown><a class=navbar-item href=/#!/token>API Token </a><a class=navbar-item href=/#!/logout>Logout</a></div></div><div class=navbar-item ng-hide=userProfile.$isAuthenticated()><div class=\"field is-grouped\"><p class=control><a class=\"is-link is-outlined button\" href=#!/register><span class=icon><i class=\"fa fa-user-plus\"></i> </span><span>Register</span></a></p><p class=control><a class=\"button is-primary\" href=#!/login><span class=icon><i class=\"fa fa-sign-in\"></i> </span><span>Login</span></a></p></div></div></div></div></div></nav><section class=section><div class=container><nav class=\"breadcrumb has-arrow-separator\" aria-label=breadcrumbs><ul><li><a>{{instituteName}}</a></li><li><a href=/#!/institutes/{{instituteId}}/lists>Lists</a></li><li class=is-active><a href=# aria-current=page>Create</a></li></ul></nav><div class=columns><div class=\"column is-one-third\"><form ng-submit=createList()><div class=field><label class=label>Name</label><div class=control><input class=input type=text placeholder=\"List Name\" ng-model=list.name></div></div><div class=field><label class=label>Report Type File</label><!-- <div class=\"control\">\\n              <div class=\"file has-name\">\\n                <label class=\"file-label\">\\n                  <input class=\"file-input\" type=\"file\" fileread=\"list.reportTypes\">\\n                  <span class=\"file-cta\">\\n                    <span class=\"file-icon\">\\n                      <i class=\"fa fa-upload\"></i>\\n                    </span>\\n                    <span class=\"file-label\">\\n                      Choose a file\\u2026\\n                    </span>\\n                  </span>\\n                </label>\\n              </div>\\n            </div> --><!-- <p class=\"help\">Select a csv file to upload report types</p> --><!-- <div class=\"control\"> --><file-field class=button ng-model=list.reportTypes>Select file</file-field><!-- </div> --></div><div class=field><div class=control><input type=submit class=\"button is-link\"></div></div></form></div></div></div></section>');\n$templateCache.put('app/views/list/delete/delete.html','');\n$templateCache.put('app/views/list/edit/edit.html','');\n$templateCache.put('app/views/users/all/all.html','<section class=section><div class=container><table class=\"table table-user\"><thead><tr><th>Name</th><th>Email</th><th>Roles</th><th>Institute</th><th>Activate</th><th>Actions</th></tr></thead><tbody><tr ng-repeat=\"user in users\"><td>{{user.firstName}}&nbsp;{{user.lastName}}</td><td>{{user.email}}</td><td><span class=\"tag is-info role-tag\" ng-repeat=\"role in user.roles track by $index\">{{role}}</span></td><td>{{user.institute.name}}</td><td><input type=checkbox ng-model=user.activated ng-change=activateUser(user) ng-disabled=\"user.roles.indexOf(\\'ROLE_ADMIN\\') > 0\"></td><td><a href=/#!/users/{{user.id}}/delete class=\"button is-small is-outlined is-danger\" ng-disabled=\"user.roles.indexOf(\\'ROLE_ADMIN\\') > 0\">Delete</a></td></tr></tbody></table></div></section>');\n$templateCache.put('app/views/users/delete/delete.html','<section class=section><div class=container><h5 class=\"title is-5\">Are you sure you want to delete this user?</h5><div class=\"field is-grouped\"><p class=control><a class=\"button is-danger\" ng-click=deleteUser(userId)>Yes, delete the user.</a></p><p class=control><a class=button href=/#!/users>No, go back.</a></p></div></div></section>');}]);"]}