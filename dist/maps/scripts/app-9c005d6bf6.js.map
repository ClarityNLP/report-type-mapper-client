{"version":3,"sources":["scripts/app-9c005d6bf6.js"],"names":["angular","module","controller","$scope","$http","userProfile","Services","toastr","activateUser","user","console","log","then","response","users","forEach","scopeUser","id","roles","data","activated","success","catch","sailsResponse","finally","getUsers","indexOf","$stateParams","$state","userId","deleteUser","go","EnvironmentConfig","instituteId","getInstituteName","instituteName","createList","fd","FormData","append","list","name","reportTypes","post","API_URL","transformRequest","identity","headers","Content-Type","undefined","directive","scope","fileread","link","element","attributes","bind","changeEvent","reader","FileReader","onload","loadEvent","$apply","target","result","readAsDataURL","files","get","lists","error","closeButton","deleteInstitute","instituteAlreadyExists","getInstitute","editInstitute","createInstitute","getInstitutes","institutes","getToken","apiToken","Auth","registerForm","selectedInstitute","register","signUp","$refresh","status","errors","tagAlreadyExists","fileFormat","createTags","tagFile","createTag","tagName","numTags","getTagCount","count","lodash","params","reportTypePage","showLoader","isUntaggedOnlySelected","listId","reportTypeQuery","untaggedOnly","getReportTypes","numReportTypeResults","numResults","report_types","length","tagQuery","getTags","numTagResults","tags","searchReportType","e","isAllSelected","searchTag","addTag","tag","_","report_type","hasTag","some","selected","push","tagId","allSelectedAddTag","reportTypeId","bulkRemoveTag","remove","allSelectedRemoveTag","removeTag","selectReportType","deleteTag","report_type_id","tag_id","toggleAllReportTypes","toggleStatus","itm","reportTypeToggled","every","toggleHideTags","toggleUntaggedOnly","loaderInView","index","inview","inviewInfo","parts","bottom","left","right","top","value","Object","assign","logout","loginForm","loading","message","submitLoginForm","signIn","credentials","$hasRole","institute","service","this","payload","delete","activate","constant","factory","fetchUserProfile","getProfile","prop","hasOwnProperty","clearUserProfile","extend","role","$hasAnyRole","filter","$isAnonymous","anonymous","$isAuthenticated","$isPending","$q","UserProfile","Access","OK","UNAUTHORIZED","FORBIDDEN","hasRole","reject","hasAnyRole","isAnonymous","isAuthenticated","PENDING_ADMIN_APPROVAL","config","$stateProvider","$urlRouterProvider","state","abstract","templateUrl","resolve","url","views","nav@app","main@app","access","otherwise","$locationProvider","$httpProvider","hashPrefix","defaults","withCredentials","run","$rootScope","$log","$on","event","toState","toParams","fromState","fromParams","warn","$templateCache","put"],"mappings":"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","file":"../../scripts/app-9c005d6bf6.js","sourcesContent":["'use strict';\n\nangular.module('myApp.users.all', [])\n\n.controller('UsersAllCtrl', ['$scope', '$http', 'userProfile', 'Services', 'toastr', function($scope, $http, userProfile, Services, toastr) {\n\n  $scope.userProfile = userProfile;\n\n  $scope.activateUser = function(user) {\n    console.log('user: ',user);\n    Services.activateUser(user).then(function onSuccess(response) {\n      console.log('response: ',response);\n      $scope.users.forEach(function(scopeUser) {\n        if (scopeUser.id == user.id) {\n          scopeUser.roles = response.data.roles;\n          // if (user.activated) {\n          //   var index = scopeUser.roles.indexOf('ROLE_PENDING_USER');\n          //   scopeUser.roles.splice(index, 1);\n          // } else {\n          //   scopeUser.roles.push('ROLE_PENDING_USER');\n          // }\n        }\n      });\n      if (user.activated) {\n        toastr.success('User has been activated and notified via email.');\n      } else {\n        toastr.success('User has been deactivated and notified via email.');\n      }\n    }).catch(function onError(sailsResponse) {\n    }).finally(function eitherWay() {\n    });\n  }\n\n  getUsers();\n\n  function getUsers() {\n    Services.getUsers().then(function onSuccess(response) {\n      var users = response.data;\n      users.forEach(function(user) {\n        user.activated = user.roles.indexOf('ROLE_PENDING_USER') < 0;\n      });\n      $scope.users = users;\n    }).catch(function onError(sailsResponse) {\n    }).finally(function eitherWay() {\n    });\n  }\n}]);\n\n'use strict';\n\nangular.module('myApp.users.delete', [])\n\n.controller('UsersDeleteCtrl', ['$scope', '$http', 'userProfile', 'Services', '$stateParams', '$state', function($scope, $http, userProfile, Services, $stateParams, $state) {\n\n  $scope.userProfile = userProfile;\n\n  $scope.userId = $stateParams.userId;\n\n  $scope.deleteUser = function(userId) {\n    console.log('userId: ',userId);\n    Services.deleteUser(userId).then(function onSuccess(response) {\n      $state.go('app.users.all');\n    }).catch(function onError(sailsResponse) {\n    }).finally(function eitherWay() {\n    });\n  }\n\n  // getToken();\n  //\n  // function getToken() {\n  //   Services.getToken().then(function onSuccess(response) {\n  //     $scope.apiToken = response.data;\n  //   }).catch(function onError(sailsResponse) {\n  //   }).finally(function eitherWay() {\n  //   });\n  // }\n}]);\n\n'use strict';\n\nangular.module('myApp.list.edit', [])\n\n.controller('ListEditCtrl', ['$scope', '$http', '$stateParams', function($scope, $http, $stateParams) {\n\n  //TODO\n\n}]);\n\n'use strict';\n\nangular.module('myApp.list.delete', [])\n\n.controller('ListDeleteCtrl', ['$scope', '$http', '$stateParams', function($scope, $http, $stateParams) {\n\n  //TODO\n\n}]);\n\n'use strict';\n\nangular.module('myApp.list.create', ['bootstrap.fileField'])\n\n.controller('ListCreateCtrl', ['$scope', '$http', '$state', '$stateParams', 'userProfile', 'Services', 'EnvironmentConfig', function($scope, $http, $state, $stateParams, userProfile, Services, EnvironmentConfig) {\n\n  $scope.userProfile = userProfile;\n\n  $scope.instituteId = $stateParams.instituteId;\n\n  getInstituteName();\n\n  function getInstituteName() {\n    Services.getInstituteName($stateParams.instituteId).then(function onSuccess(response) {\n      $scope.instituteName = response.data\n      console.log('response: ',response);\n    }).catch(function onError(sailsResponse) {\n      console.log('problem getting institute name.');\n    }).finally(function eitherWay() {\n    });\n  }\n\n  $scope.createList = function() {\n\n    var fd = new FormData();\n    fd.append('name', $scope.list.name);\n    fd.append('reportTypes', $scope.list.reportTypes);\n\n    $http.post(EnvironmentConfig.API_URL+\"/institutes/\"+$stateParams.instituteId+\"/lists\", fd, {\n      transformRequest: angular.identity,\n      headers: {'Content-Type': undefined}\n    }).then(function(response) {\n      $state.go('app.list.all', { instituteId: $stateParams.instituteId });\n      // $location.path('/institutes/'+$stateParams.instituteId+'/lists');\n    })\n  }\n\n}])\n\n.directive(\"fileread\", [function () {\n    return {\n        scope: {\n            fileread: \"=\"\n        },\n        link: function (scope, element, attributes) {\n            element.bind(\"change\", function (changeEvent) {\n                var reader = new FileReader();\n                reader.onload = function (loadEvent) {\n                    scope.$apply(function () {\n                        scope.fileread = loadEvent.target.result;\n                    });\n                }\n                reader.readAsDataURL(changeEvent.target.files[0]);\n            });\n        }\n    }\n}]);\n\n'use strict';\n\nangular.module('myApp.list.all', [])\n\n.controller('ListAllCtrl', ['$scope', '$http', '$stateParams', 'userProfile', 'Services', 'EnvironmentConfig', function($scope, $http, $stateParams, userProfile, Services, EnvironmentConfig) {\n\n  $scope.userProfile = userProfile;\n\n  $scope.instituteId = $stateParams.instituteId;\n\n  getInstituteName();\n\n  function getInstituteName() {\n    Services.getInstituteName($stateParams.instituteId).then(function onSuccess(response) {\n      $scope.instituteName = response.data\n      console.log('response: ',response);\n    }).catch(function onError(sailsResponse) {\n      console.log('problem getting institute name.');\n    }).finally(function eitherWay() {\n    });\n  }\n\n  $http.get(EnvironmentConfig.API_URL+'/institutes/'+$stateParams.instituteId+'/lists')\n  .then(function onSuccess(response) {\n    $scope.lists = response.data;\n  })\n  .catch(function onError(response) {\n    toastr.error('An unexpected error occurred, please try again', 'Error', {\n      closeButton: true\n    });\n    return;\n  })\n  .finally(function eitherWay() {\n\n  })\n\n}]);\n\n'use strict';\n\nangular.module('myApp.institutes.delete', [])\n\n.controller('InstitutesDeleteCtrl', ['$scope', '$stateParams', 'userProfile', 'Services', '$state', function($scope, $stateParams, userProfile, Services, $state) {\n\n  $scope.userProfile = userProfile;\n\n  $scope.deleteInstitute = function() {\n    Services.deleteInstitute($stateParams.instituteId).then(function onSuccess(response) {\n      $state.go('app.institute');\n    }).catch(function onError(sailsResponse) {\n      console.log('problem deleting institute...');\n    }).finally(function eitherWay() {\n\n    });\n  }\n\n}]);\n\n'use strict';\n\nangular.module('myApp.institutes.edit', [])\n\n.controller('InstitutesEditCtrl', ['$scope', '$stateParams', 'Services', '$state', 'userProfile', function($scope, $stateParams, Services, $state, userProfile) {\n\n  $scope.userProfile = userProfile;\n\n  $scope.instituteAlreadyExists = false;\n\n  getInstitute();\n\n  function getInstitute() {\n    Services.getInstitute($stateParams.instituteId).then(function onSuccess(response) {\n      $scope.instituteName = response.data.name;\n    }).catch(function onError(sailsResponse) {\n      console.log('problem getting institute');\n    }).finally(function eitherWay() {\n\n    });\n  }\n\n  $scope.editInstitute = function() {\n    Services.editInstitute({ name: $scope.instituteName, instituteId: $stateParams.instituteId }).then(function onSuccess(response) {\n      $state.go('app.institutes.all');\n    }).catch(function onError(sailsResponse) {\n      $scope.instituteAlreadyExists = true;\n    }).finally(function eitherWay() {\n\n    });\n  }\n\n}]);\n\n'use strict';\n\nangular.module('myApp.institutes.create', ['bootstrap.fileField'])\n\n.controller('InstitutesCreateCtrl', ['$scope', '$state', 'userProfile', 'Services', function($scope, $state, userProfile, Services) {\n\n  $scope.userProfile = userProfile;\n\n  $scope.instituteAlreadyExists = false;\n\n  $scope.createInstitute = function() {\n    Services.createInstitute($scope.instituteName).then(function onSuccess(response) {\n      $scope.instituteAlreadyExists = false;\n      $scope.instituteName = '';\n      $state.go('app.institutes.all');\n    }).catch(function onError(sailsResponse) {\n      $scope.instituteAlreadyExists = true;\n    }).finally(function eitherWay() {\n\n    });\n  }\n\n}]);\n\n'use strict';\n\nangular.module('myApp.institutes.all', [])\n\n.controller('InstitutesAllCtrl', ['$scope', 'userProfile', 'Services', function($scope, userProfile, Services) {\n\n  $scope.userProfile = userProfile;\n\n  Services.getInstitutes().then(function onSuccess(response) {\n    console.log('success getting institutes...');\n    $scope.institutes = response.data;\n  }).catch(function onError(sailsResponse) {\n    console.log('error');\n  }).finally(function eitherWay() {\n\n  });\n\n}]);\n\n'use strict';\n\nangular.module('myApp.users', [\n  'myApp.users.all',\n  'myApp.users.delete'\n])\n\n'use strict';\n\nangular.module('myApp.token', [])\n\n.controller('TokenCtrl', ['$scope', '$http', 'userProfile', 'Services', function($scope, $http, userProfile, Services) {\n\n  $scope.userProfile = userProfile;\n\n  getToken();\n\n  function getToken() {\n    Services.getToken().then(function onSuccess(response) {\n      $scope.apiToken = response.data;\n    }).catch(function onError(sailsResponse) {\n    }).finally(function eitherWay() {\n    });\n  }\n}]);\n\n'use strict';\n\nangular.module('myApp.register', [])\n\n.controller('RegisterCtrl', ['$scope', 'Services', 'Auth', 'userProfile', '$state', function($scope, Services, Auth, userProfile, $state) {\n\n  getInstitutes();\n\n  $scope.registerForm = {};\n\n  function getInstitutes() {\n    Services.getInstitutes().then(function onSuccess(response) {\n      $scope.institutes = response.data;\n      $scope.registerForm.selectedInstitute = response.data[0];\n    }).catch(function onError(response) {\n      console.log('error: ',response);\n    }).finally(function eitherWay() {\n    });\n  }\n\n  $scope.register = function() {\n    Auth.signUp($scope.registerForm).then(function onSuccess(response) {\n      return userProfile.$refresh();\n    }).then(function() {\n      $state.go('app.pending');\n    }).catch(function onError(response) {\n      if (response.status == 400) {\n        $scope.registerForm.errors = \"Please enter all required fields\";\n      } else {\n        $scope.registerForm.errors = \"There was an unexpected problem. Please try again.\";\n      }\n    });\n\n  }\n\n}]);\n\n'use strict';\n\nangular.module('myApp.tag', [])\n\n.controller('TagCtrl', ['$scope', '$http', 'userProfile', 'Services', 'EnvironmentConfig', function($scope, $http, userProfile, Services, EnvironmentConfig) {\n\n  $scope.userProfile = userProfile;\n\n  $scope.tagAlreadyExists = false;\n\n  $scope.fileFormat = 'simple';\n\n  $scope.createTags = function() {\n    var fd = new FormData();\n    fd.append('tagFile', $scope.tagFile);\n    fd.append('fileFormat', $scope.fileFormat);\n\n    $http.post(EnvironmentConfig.API_URL+\"/uploadLoincDocumentOntologyCSV\", fd, {\n      transformRequest: angular.identity,\n      headers: {'Content-Type': undefined}\n    }).then(function(response) {\n      console.log('upload success...');\n      console.log('response: ',response);\n      // $location.path('/institutes/'+userProfile.institute.id+'/lists');\n    })\n  }\n\n  $scope.createTag = function() {\n    Services.createTag($scope.tagName).then(function onSuccess(response) {\n      $scope.numTags = $scope.numTags + 1;\n      $scope.tagAlreadyExists = false;\n      $scope.tagName = '';\n    }).catch(function onError(sailsResponse) {\n      $scope.tagAlreadyExists = true;\n    }).finally(function eitherWay() {\n\n    });\n  }\n\n  getTagCount();\n\n  function getTagCount() {\n    Services.getTagCount().then(function onSuccess(response) {\n      console.log('tag count: ',response);\n      $scope.numTags = response.data.count;\n    }).catch(function onError(sailsResponse) {\n      console.log('problem getting tag count');\n    }).finally(function eitherWay() {\n\n    });\n  }\n\n\n}]);\n\n'use strict';\n\nangular.module('myApp.pending', [])\n\n.controller('PendingCtrl', ['$scope', '$http', 'toastr', '$state', 'userProfile', 'Auth', function($scope, $http, toastr, $state, userProfile, Auth) {\n\n  console.log('loading pending ctrl.');\n\n}]);\n\n'use strict';\n\nangular.module('myApp.nav', [])\n\n.controller('NavCtrl', ['$scope', 'userProfile', function($scope, userProfile) {\n\n  $scope.userProfile = userProfile;\n\n}]);\n\n'use strict';\n\nangular.module('myApp.map', ['ngLodash'])\n\n.controller('MapCtrl', ['$scope', 'lodash', '$stateParams', 'userProfile', 'Services', function($scope, lodash, $stateParams, userProfile, Services) {\n\n  $scope.userProfile = userProfile;\n\n  $scope.reportTypePage = 0;\n\n  $scope.showLoader = false;\n\n  $scope.isUntaggedOnlySelected = false;\n\n  getReportTypes();\n  getTags();\n\n  function getReportTypes() {\n\n    var params = {\n      instituteId: $stateParams.instituteId,\n      listId: $stateParams.listId,\n      reportTypePage: $scope.reportTypePage,\n      reportTypeQuery: '',\n      untaggedOnly: $scope.isUntaggedOnlySelected ? $scope.isUntaggedOnlySelected : ''\n    }\n\n    Services.getReportTypes(params).then(function onSuccess(response) {\n      $scope.numReportTypeResults = response.data.numResults;\n      console.log('response: ',response);\n      $scope.report_types = response.data.reportTypes;\n      if (response.data.reportTypes.length == 30) {\n        $scope.showLoader = true;\n      } else {\n        $scope.showLoader = false;\n      }\n    }).catch(function onError(sailsResponse) {\n      console.log('error');\n    }).finally(function eitherWay() {\n\n    });\n  }\n\n  function getTags() {\n\n    var params = {\n      instituteId: $stateParams.instituteId,\n      listId: $stateParams.listId,\n      tagQuery: ''\n    }\n\n    Services.getTags(params).then(function onSuccess(response) {\n      $scope.numTagResults = response.data.numResults;\n      $scope.tags = response.data.tags;\n    }).catch(function onError(sailsResponse) {\n      console.log('problem getting tags.');\n    }).finally(function eitherWay() {\n\n    });\n  }\n\n  $scope.searchReportType = function(e) {\n    $scope.isAllSelected = false;\n    $scope.isUntaggedOnlySelected = false;\n\n    $scope.reportTypePage = 0;\n\n    var params = {\n      instituteId: $stateParams.instituteId,\n      listId: $stateParams.listId,\n      reportTypePage: $scope.reportTypePage,\n      reportTypeQuery: $scope.reportTypeQuery,\n      untaggedOnly: $scope.isUntaggedOnlySelected ? $scope.isUntaggedOnlySelected : ''\n    }\n\n    Services.getReportTypes(params).then(function onSuccess(response) {\n      $scope.numReportTypeResults = response.data.numResults;\n      $scope.report_types = response.data.reportTypes;\n      if (response.data.reportTypes.length == 30) {\n        $scope.showLoader = true;\n      } else {\n        $scope.showLoader = false;\n      }\n    }).catch(function onError(sailsResponse) {\n      console.log('error');\n    }).finally(function eitherWay() {\n      console.log('either way...');\n    });\n\n  }\n\n  $scope.searchTag = function(e) {\n\n    var params = {\n      instituteId: $stateParams.instituteId,\n      listId: $stateParams.listId,\n      tagQuery: $scope.tagQuery\n    }\n\n    Services.getTags(params).then(function onSuccess(response) {\n      $scope.numTagResults = response.data.numResults;\n      $scope.tags = response.data.tags;\n    }).catch(function onError(sailsResponse) {\n      console.log('error');\n    }).finally(function eitherWay() {\n      console.log('either way...');\n    });\n\n  }\n\n  $scope.addTag = function(tag) {\n    if (!$scope.isAllSelected) {\n      _.forEach($scope.report_types, function(report_type) {\n        var hasTag = _.some(report_type.tags, {'id': tag.id});\n        if (report_type.selected && !hasTag) {\n          report_type.tags.push(tag);\n          var params = {\n            instituteId: $stateParams.instituteId,\n            listId: $stateParams.listId,\n            tagId: tag.id,\n            reportTypeId: report_type.id\n          }\n          Services.addTag(params).then(function onSuccess(response) {\n\n          }).catch(function onError(sailsResponse) {\n            console.log('error');\n          }).finally(function eitherWay() {\n\n          });\n        }\n      });\n    } else {\n      _.forEach($scope.report_types, function(report_type) {\n        var hasTag = _.some(report_type.tags, {'id': tag.id});\n        if (report_type.selected && !hasTag) {\n          report_type.tags.push(tag);\n        }\n      });\n      var params = {\n        instituteId: $stateParams.instituteId,\n        listId: $stateParams.listId,\n        tagId: tag.id,\n        reportTypeQuery: $scope.reportTypeQuery\n      }\n      Services.allSelectedAddTag(params).then(function onSuccess(response) {\n\n      }).catch(function onError(sailsResponse) {\n        console.log('error');\n      }).finally(function eitherWay() {\n\n      });\n    }\n  }\n\n  $scope.bulkRemoveTag = function(tag) {\n    if (!$scope.isAllSelected) {\n      _.forEach($scope.report_types, function(report_type) {\n        var hasTag = _.some(report_type.tags, {'id': tag.id});\n        if (report_type.selected && hasTag) {\n          _.remove(report_type.tags, {id: tag.id});\n          var params = {\n            instituteId: $stateParams.instituteId,\n            listId: $stateParams.listId,\n            tagId: tag.id,\n            reportTypeId: report_type.id\n          }\n          Services.removeTag(params).then(function onSuccess(response) {\n\n          }).catch(function onError(sailsResponse) {\n            console.log('error');\n          }).finally(function eitherWay() {\n\n          });\n        }\n      });\n    } else {\n      _.forEach($scope.report_types, function(report_type) {\n        var hasTag = _.some(report_type.tags, {'id': tag.id});\n        if (report_type.selected && hasTag) {\n          _.remove(report_type.tags, {id: tag.id});\n        }\n      });\n      var params = {\n        instituteId: $stateParams.instituteId,\n        listId: $stateParams.listId,\n        tagId: tag.id,\n        reportTypeQuery: $scope.reportTypeQuery\n      }\n      Services.allSelectedRemoveTag(params).then(function onSuccess(response) {\n\n      }).catch(function onError(sailsResponse) {\n        console.log('error');\n      }).finally(function eitherWay() {\n\n      });\n    }\n  }\n\n  $scope.selectReportType = function(report_type) {\n    if (report_type.selected) {\n      _.forEach($scope.tags, function(tag) {\n        tag.selected = false;\n      });\n    }\n  }\n\n  $scope.deleteTag = function(report_type_id, tag_id) {\n    _.forEach($scope.report_types, function(report_type) {\n      if (report_type.id == report_type_id) {\n        var hasTag = _.some(report_type.tags, {'id': tag_id});\n        if (hasTag) {\n          _.remove(report_type.tags, {id: tag_id});\n          var params = {\n            instituteId: $stateParams.instituteId,\n            listId: $stateParams.listId,\n            tagId: tag_id,\n            reportTypeId: report_type_id\n          }\n          Services.removeTag(params).then(function onSuccess(response) {\n\n          }).catch(function onError(sailsResponse) {\n            console.log('error');\n          }).finally(function eitherWay() {\n\n          });\n        }\n      }\n    });\n  }\n\n  $scope.instituteId = $stateParams.instituteId;\n\n  getInstituteName();\n\n  function getInstituteName() {\n    Services.getInstituteName($stateParams.instituteId).then(function onSuccess(response) {\n      $scope.instituteName = response.data\n    }).catch(function onError(sailsResponse) {\n      console.log('problem getting institute name.');\n    }).finally(function eitherWay() {\n    });\n  }\n\n  $scope.toggleAllReportTypes = function() {\n    var toggleStatus = $scope.isAllSelected;\n    angular.forEach($scope.report_types, function(itm){ itm.selected = toggleStatus; });\n  }\n\n  $scope.reportTypeToggled = function(){\n    $scope.isAllSelected = $scope.report_types.every(function(itm){ return itm.selected; })\n  }\n\n  $scope.toggleHideTags = function() {\n    console.log('hiding tags...');\n  }\n\n  $scope.toggleUntaggedOnly = function() {\n    $scope.isAllSelected = false;\n    $scope.reportTypePage = 0;\n\n    var params = {\n      instituteId: $stateParams.instituteId,\n      listId: $stateParams.listId,\n      reportTypePage: $scope.reportTypePage,\n      reportTypeQuery: $scope.reportTypeQuery ? $scope.reportTypeQuery : '',\n      untaggedOnly: $scope.isUntaggedOnlySelected ? $scope.isUntaggedOnlySelected : ''\n    }\n\n    Services.getReportTypes(params).then(function onSuccess(response) {\n      $scope.numReportTypeResults = response.data.numResults;\n      $scope.report_types = response.data.reportTypes;\n      console.log('response: ',response);\n      if (response.data.reportTypes.length > 0) {\n        $scope.showLoader = true;\n      } else {\n        $scope.showLoader = false;\n      }\n    }).catch(function onError(sailsResponse) {\n      console.log('error');\n    }).finally(function eitherWay() {\n      console.log('either way...');\n    });\n  }\n\n  $scope.loaderInView = function(index,inview,inviewInfo) {\n    var parts = inviewInfo.parts;\n    if (parts && parts.bottom && parts.left && parts.right && parts.top) {\n\n        $scope.reportTypePage = $scope.reportTypePage + 1;\n\n        var params = {\n          instituteId: $stateParams.instituteId,\n          listId: $stateParams.listId,\n          reportTypePage: $scope.reportTypePage,\n          reportTypeQuery: $scope.reportTypeQuery ? $scope.reportTypeQuery : '',\n          untaggedOnly: $scope.isUntaggedOnlySelected ? $scope.isUntaggedOnlySelected : ''\n        }\n\n        Services.getReportTypes(params).then(function onSuccess(response) {\n          _.forEach(response.data.reportTypes, function(value) {\n            $scope.report_types.push(Object.assign({},value, {selected: $scope.isAllSelected}));\n          });\n\n          if (response.data.reportTypes.length == 30) {\n            $scope.showLoader = true;\n          } else {\n            $scope.showLoader = false;\n          }\n        }).catch(function onError(sailsResponse) {\n          console.log('error');\n        }).finally(function eitherWay() {\n          console.log('either way...');\n        });\n    }\n  }\n\n\n}]);\n\n'use strict';\n\nangular.module('myApp.logout', [])\n\n.controller('LogoutCtrl', ['$scope', 'userProfile', 'Auth', function($scope, userProfile, Auth) {\n\n  logout();\n\n  function logout() {\n\n    Auth.logout().then(function() {\n      return userProfile.$refresh();\n    });\n\n  }\n\n}]);\n\n'use strict';\n\nangular.module('myApp.login', [])\n\n.controller('LoginCtrl', ['$scope', '$state', '$stateParams', 'userProfile', 'Auth', function($scope, $state, $stateParams, userProfile, Auth) {\n\n  $scope.loginForm = {\n    loading: false\n  }\n\n  $scope.message = $stateParams.message;\n\n  $scope.submitLoginForm = function() {\n\n    $scope.loginForm.loading = true;\n    Auth.signIn($scope.loginForm.credentials).then(function onSuccess() {\n      return userProfile.$refresh();\n    }).then(function() {\n      if (userProfile.$hasRole('ROLE_ADMIN')) {\n        console.log(\"is admin...\");\n        $state.go('app.institutes.all');\n      } else {\n        console.log(\"is not admin...\");\n        $state.go('app.lists.all', { instituteId: userProfile.institute.id });\n      }\n    }).catch(function onError() {\n      $scope.loginForm.loading = false;\n      $scope.loginForm.errors = \"Please enter correct email/password\";\n    });\n  }\n\n}]);\n\n'use strict';\n\n// Declare app level module which depends on views, and components\nangular.module('myApp.list', [\n  'myApp.list.all',\n  'myApp.list.create',\n  'myApp.list.delete',\n  'myApp.list.edit'\n])\n\n'use strict';\n\n// Declare app level module which depends on views, and components\nangular.module('myApp.institutes', [\n  'myApp.institutes.all',\n  'myApp.institutes.create',\n  'myApp.institutes.delete',\n  'myApp.institutes.edit'\n])\n\nangular.module('myApp.services', [])\n\n.service(\"Services\", [\"$http\", \"EnvironmentConfig\", function ($http, EnvironmentConfig) {\n\n  this.getReportTypes = function(params) {\n    return $http.get(EnvironmentConfig.API_URL+'/institutes/'+params.instituteId+'/lists/'+params.listId+'/reportTypes?page='+params.reportTypePage+'&query='+params.reportTypeQuery+'&untaggedOnly='+params.untaggedOnly)\n  }\n\n  this.getToken = function() {\n    return $http.get(EnvironmentConfig.API_URL+'/getToken');\n  }\n\n  this.getTags = function(params) {\n    return $http.get(EnvironmentConfig.API_URL+'/institutes/'+params.instituteId+'/lists/'+params.listId+'/tags?query='+params.tagQuery)\n  }\n\n  this.addTag = function(params) {\n    var payload = {\n      reportTypeId: params.reportTypeId,\n      tagId: params.tagId\n    };\n    return $http.post(EnvironmentConfig.API_URL+'/institutes/'+params.instituteId+'/lists/'+params.listId+'/addTag', payload)\n  }\n\n  this.allSelectedAddTag = function(params) {\n    var payload = {\n      reportTypeQuery: params.reportTypeQuery,\n      tagId: params.tagId\n    };\n    return $http.post(EnvironmentConfig.API_URL+'/institutes/'+params.instituteId+'/lists/'+params.listId+'/allSelectedAddTag', payload)\n  }\n\n  this.removeTag = function(params) {\n    var payload = {\n      reportTypeId: params.reportTypeId,\n      tagId: params.tagId\n    };\n    return $http.post(EnvironmentConfig.API_URL+'/institutes/'+params.instituteId+'/lists/'+params.listId+'/removeTag', payload)\n  }\n\n  this.allSelectedRemoveTag = function(params) {\n    var payload = {\n      reportTypeQuery: params.reportTypeQuery,\n      tagId: params.tagId\n    };\n    return $http.post(EnvironmentConfig.API_URL+'/institutes/'+params.instituteId+'/lists/'+params.listId+'/allSelectedRemoveTag', payload)\n  }\n\n  this.createTag = function(name) {\n    return $http.post(EnvironmentConfig.API_URL+'/tags', { name: name });\n  }\n\n  this.getTagCount = function() {\n    return $http.get(EnvironmentConfig.API_URL+'/tags/count')\n  }\n\n  this.getInstitutes = function() {\n    return $http.get(EnvironmentConfig.API_URL+'/institutes')\n  }\n\n  this.createInstitute = function(name) {\n    return $http.post(EnvironmentConfig.API_URL+'/institutes', { name: name });\n  }\n\n  this.getInstitute = function(instituteId) {\n    return $http.get(EnvironmentConfig.API_URL+'/institutes/'+instituteId);\n  }\n\n  this.editInstitute = function(params) {\n    return $http.post(EnvironmentConfig.API_URL+'/institutes/'+params.instituteId, { name: params.name });\n  }\n\n  this.deleteInstitute = function(instituteId) {\n    return $http.delete(EnvironmentConfig.API_URL+'/institutes/'+instituteId);\n  }\n\n  this.getInstituteName = function(instituteId) {\n    return $http.get(EnvironmentConfig.API_URL+'/institutes/'+instituteId+'/name');\n  }\n\n  this.getUsers = function() {\n    return $http.get(EnvironmentConfig.API_URL+'/users');\n  }\n\n  this.activateUser = function(user) {\n    return $http.post(EnvironmentConfig.API_URL+'/users/'+user.id+'/activate', { activate: user.activated });\n  }\n\n  this.deleteUser = function(userId) {\n    return $http.delete(EnvironmentConfig.API_URL+'/users/'+userId);\n  }\n\n}])\n\nangular.module(\"myApp.config\", [])\n.constant(\"EnvironmentConfig\", {\"API_URL\":\"http://report-type-mapper.hdap.gatech.edu:1338\"});\n\nangular.module('myApp.UserProfile', [])\n\n.factory(\"UserProfile\", [\"Auth\", function (Auth) {\n\n  var userProfile = {};\n\n  var clearUserProfile = function () {\n    for (var prop in userProfile) {\n      if (userProfile.hasOwnProperty(prop)) {\n        delete userProfile[prop];\n      }\n    }\n  };\n\n  var fetchUserProfile = function () {\n    return Auth.getProfile().then(function (response) {\n      clearUserProfile();\n      return angular.extend(userProfile, response.data, {\n\n        $refresh: fetchUserProfile,\n\n        $hasRole: function (role) {\n          if (!userProfile.roles) {\n            return false;\n          }\n          return userProfile.roles.indexOf(role) >= 0;\n        },\n\n        $hasAnyRole: function (roles) {\n          return !!userProfile.roles.filter(function (role) {\n            return roles.indexOf(role) >= 0;\n          }).length;\n        },\n\n        $isAnonymous: function () {\n          return userProfile.anonymous;\n        },\n\n        $isAuthenticated: function () {\n          return userProfile.userId;\n        },\n\n        $isPending: function () {\n          if (!userProfile.roles) {\n            return false;\n          }\n          return userProfile.roles.indexOf('ROLE_PENDING_USER') >= 0;\n        }\n\n      });\n    });\n  };\n\n  return fetchUserProfile();\n\n}])\n\nangular.module('myApp.Auth', [])\n\n.service(\"Auth\", [\"$http\", \"EnvironmentConfig\", function ($http, EnvironmentConfig) {\n\n\n\n  this.getProfile = function () {\n    return $http.get(EnvironmentConfig.API_URL+\"/me\");\n  };\n\n  this.signIn = function(credentials) {\n    return $http.post(EnvironmentConfig.API_URL+\"/login\", credentials).then(function (response) {\n      // authentication succeeded, store the response access token somewhere (if any)\n    });\n  };\n\n  this.signUp = function(params) {\n    return $http.post(EnvironmentConfig.API_URL+\"/signup\", params);\n  }\n\n  this.logout = function() {\n    return $http.get(EnvironmentConfig.API_URL+\"/logout\");\n  };\n\n}])\n\n'use strict';\n\nangular.module('myApp.Access', [])\n\n.factory(\"Access\", [\"$q\", \"UserProfile\", function ($q, UserProfile) {\n\n  var Access = {\n\n    OK: 200,\n\n    // \"we don't know who you are, so we can't say if you're authorized to access\n    // this resource or not yet, please sign in first\"\n    UNAUTHORIZED: 401,\n\n    // \"we know who you are, and your profile does not allow you to access this resource\"\n    FORBIDDEN: 403,\n\n    hasRole: function (role) {\n      return UserProfile.then(function (userProfile) {\n        if (userProfile.$hasRole(role)) {\n          return Access.OK;\n        } else if (userProfile.$isAnonymous()) {\n          return $q.reject(Access.UNAUTHORIZED);\n        } else {\n          return $q.reject(Access.FORBIDDEN);\n        }\n      });\n    },\n\n    hasAnyRole: function (roles) {\n      return UserProfile.then(function (userProfile) {\n        if (userProfile.$hasAnyRole(roles)) {\n          return Access.OK;\n        } else if (userProfile.$isAnonymous()) {\n          return $q.reject(Access.UNAUTHORIZED);\n        } else {\n          return $q.reject(Access.FORBIDDEN);\n        }\n      });\n    },\n\n    isAnonymous: function () {\n      return UserProfile.then(function (userProfile) {\n        if (userProfile.$isAnonymous()) {\n          return Access.OK;\n        } else {\n          return $q.reject(Access.FORBIDDEN);\n        }\n      });\n    },\n\n    isAuthenticated: function () {\n      return UserProfile.then(function (userProfile) {\n        if (userProfile.$isAuthenticated() && !userProfile.$isPending()) {\n          return Access.OK;\n        } else if (userProfile.$isPending()) {\n          return $q.reject(Access.PENDING_ADMIN_APPROVAL);\n        } else {\n          return $q.reject(Access.UNAUTHORIZED);\n        }\n      });\n    }\n\n  };\n\n  return Access;\n\n}])\n\n'use strict';\n\n/* @nginject */\n// Declare app level module which depends on views, and components\nangular.module('app', [\n  'ui.router',\n  'toastr',\n  'ngAnimate',\n  'LocalStorageModule',\n  'myApp.config',\n  'myApp.map',\n  'myApp.tag',\n  'myApp.token',\n  'myApp.users',\n  'myApp.login',\n  'myApp.logout',\n  'myApp.register',\n  'myApp.list',\n  'myApp.pending',\n  'myApp.institutes',\n  'myApp.Access',\n  'myApp.Auth',\n  'myApp.services',\n  'myApp.UserProfile',\n  'myApp.nav'\n])\n.config(['$stateProvider', '$urlRouterProvider', function($stateProvider, $urlRouterProvider) {\n  $stateProvider\n    .state('app', {\n      abstract: true,\n      templateUrl: 'app/views/app.html',\n      resolve: {\n        userProfile: \"UserProfile\"\n      }\n    })\n    .state('app.login', {\n      url: '/login',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html',\n          controller: 'NavCtrl'\n        },\n        'main@app': {\n          templateUrl: 'app/views/login/login.html',\n          controller: 'LoginCtrl'\n        }\n      },\n      params: {\n        message: null\n      }\n    })\n    .state('app.register', {\n      url: '/register',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html',\n          controller: 'NavCtrl'\n        },\n        'main@app': {\n          templateUrl: 'app/views/register/register.html',\n          controller: 'RegisterCtrl'\n        }\n      }\n    })\n    .state('app.logout', {\n      url: '/logout',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html'\n        },\n        'main@app': {\n          templateUrl: 'app/views/logout/logout.html',\n          controller: 'LogoutCtrl'\n        }\n      }\n    })\n    // *** USERS ***\n    .state('app.users', {\n      abstract: true\n    })\n    .state('app.users.all', {\n      url: '/users',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html',\n          controller: 'NavCtrl'\n        },\n        'main@app': {\n          templateUrl: 'app/views/users/all/all.html',\n          controller: 'UsersAllCtrl'\n        }\n      },\n      resolve: {\n        access: [\"Access\", function(Access) { return Access.hasRole('ROLE_ADMIN'); }]\n      }\n    })\n    .state('app.users.delete', {\n      url: '/users/:userId/delete',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html',\n          controller: 'NavCtrl'\n        },\n        'main@app': {\n          templateUrl: 'app/views/users/delete/delete.html',\n          controller: 'UsersDeleteCtrl'\n        }\n      },\n      resolve: {\n        access: [\"Access\", function(Access) { return Access.hasRole('ROLE_ADMIN'); }]\n      }\n    })\n    // *** INSTITUTE ***\n    .state('app.institutes', {\n      abstract: true\n    })\n    .state('app.institutes.all', {\n      url: '/institutes',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html',\n          controller: 'NavCtrl'\n        },\n        'main@app': {\n          templateUrl: 'app/views/institutes/all/all.html',\n          controller: 'InstitutesAllCtrl'\n        }\n      },\n      resolve: {\n        access: [\"Access\", function(Access) { return Access.hasRole('ROLE_ADMIN'); }]\n        // userProfile: \"UserProfile\"\n      }\n    })\n    .state('app.institutes.create', {\n      url: '/institutes/create',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html',\n          controller: 'NavCtrl'\n        },\n        'main@app': {\n          templateUrl: 'app/views/institutes/create/create.html',\n          controller: 'InstitutesCreateCtrl'\n        }\n      }\n    })\n    .state('app.institutes.delete', {\n      url: '/institutes/:instituteId/delete',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html',\n          controller: 'NavCtrl'\n        },\n        'main@app': {\n          templateUrl: 'app/views/institutes/delete/delete.html',\n          controller: 'InstitutesDeleteCtrl'\n        }\n      }\n    })\n    .state('app.institutes.edit', {\n      url: '/institutes/:instituteId/edit',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html',\n          controller: 'NavCtrl'\n        },\n        'main@app': {\n          templateUrl: 'app/views/institutes/edit/edit.html',\n          controller: 'InstitutesEditCtrl'\n        }\n      }\n    })\n\n\n    .state('app.map', {\n      url: '/institutes/:instituteId/lists/:listId/map',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html',\n          controller: 'NavCtrl'\n        },\n        'main@app': {\n          templateUrl: 'app/views/map/map.html',\n          controller: 'MapCtrl'\n        }\n      },\n      resolve: {\n        access: [\"Access\", function(Access) { return Access.isAuthenticated(); }]\n        // userProfile: \"UserProfile\"\n      }\n    })\n    .state('app.tags', {\n      url: '/tags',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html',\n          controller: 'NavCtrl'\n        },\n        'main@app': {\n          templateUrl: 'app/views/tag/tag.html',\n          controller: 'TagCtrl'\n        }\n      },\n      resolve: {\n        access: [\"Access\", function(Access) { return Access.isAuthenticated(); }],\n      }\n    })\n    .state('app.token', {\n      url: '/token',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html',\n          controller: 'NavCtrl'\n        },\n        'main@app': {\n          templateUrl: 'app/views/token/token.html',\n          controller: 'TokenCtrl'\n        }\n      },\n      resolve: {\n        access: [\"Access\", function(Access) { return Access.isAuthenticated(); }],\n      }\n    })\n    // *** LIST ***\n    .state('app.list', {\n      abstract: true\n    })\n    .state('app.list.all', {\n      url: '/institutes/:instituteId/lists',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html',\n          controller: 'NavCtrl'\n        },\n        'main@app': {\n          templateUrl: 'app/views/list/all/all.html',\n          controller: 'ListAllCtrl'\n        }\n      },\n      resolve: {\n        access: [\"Access\", function(Access) { return Access.isAuthenticated(); }],\n      }\n    })\n    .state('app.list.create', {\n      url: '/institutes/:instituteId/lists/create',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html',\n          controller: 'NavCtrl'\n        },\n        'main@app': {\n          templateUrl: 'app/views/list/create/create.html',\n          controller: 'ListCreateCtrl'\n        }\n      },\n      resolve: {\n        access: [\"Access\", function(Access) { return Access.isAuthenticated(); }],\n      }\n    })\n    .state('app.list.delete', {\n      url: '/institute/:instituteId/list/:listId/delete',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html',\n          controller: 'NavCtrl'\n        },\n        'main@app': {\n          templateUrl: 'app/views/list/delete/delete.html',\n          controller: 'ListDeleteCtrl'\n        }\n      }\n    })\n    .state('app.list.edit', {\n      url: '/institute/:instituteId/list/:listId/edit',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html',\n          controller: 'NavCtrl'\n        },\n        'main@app': {\n          templateUrl: 'app/views/list/edit/edit.html',\n          controller: 'ListEditCtrl'\n        }\n      }\n    })\n    // *** PENDING ***\n    .state('app.pending', {\n      url: '/pending',\n      views: {\n        'nav@app': {\n          templateUrl: 'app/views/nav/main-nav.html',\n          controller: 'NavCtrl'\n        },\n        'main@app': {\n          templateUrl: 'app/views/pending/pending.html',\n          controller: 'PendingCtrl'\n        }\n      }\n    })\n\n  $urlRouterProvider.otherwise('/login');\n}])\n.config(['$locationProvider', '$httpProvider', function($locationProvider, $httpProvider) {\n  $locationProvider.hashPrefix('!');\n  $httpProvider.defaults.withCredentials = true;\n}])\n// run([\"Access\", \"$state\", \"$log\", \"$transitions\", function (, Access, $state, $log, $transitions) {\n//\n//   $transitions.onError({}, (transition) => {\n//\n//     switch (transition.error().detail) {\n//       case Access.UNAUTHORIZED:\n//         $state.go(\"app.login\", { message: 'User unauthorized, login first.' });\n//         break;\n//\n//       case Access.FORBIDDEN:\n//\n//         $state.go(\"/forbidden\");\n//         break;\n//\n//       case Access.PENDING_ADMIN_APPROVAL:\n//         $state.go(\"/pending\");\n//         break;\n//\n//       default:\n//         $log.warn(\"$stateChangeError event catched\");\n//         break;\n//     }\n//   });\n//\n// }])\n\n\n.run([\"$rootScope\", \"Access\", \"$state\", \"$log\", function ($rootScope, Access, $state, $log) {\n\n  $rootScope.$on(\"$stateChangeError\", function (event, toState, toParams, fromState, fromParams, error) {\n\n    console.log('state error triggered!!!');\n    switch (error) {\n\n      case Access.UNAUTHORIZED:\n        console.log('unauth!!!');\n        $state.go(\"app.login\", { message: 'You are unauthorized to do that.' });\n        break;\n\n      case Access.FORBIDDEN:\n        console.log('forbidden!!!');\n        $state.go(\"app.login\", { message: 'You lack privileges to do that.' });\n        break;\n\n      case Access.PENDING_ADMIN_APPROVAL:\n        $state.go(\"app.pending\");\n        break;\n\n      default:\n        $log.warn(\"$stateChangeError event catched\");\n        break;\n\n    }\n  });\n\n}])\n\nangular.module('app').run(['$templateCache', function($templateCache) {$templateCache.put('app/views/app.html','<div ui-view=nav></div><div ui-view=main class=main></div>');\n$templateCache.put('app/views/login/login.html','<section class=section><div class=container><div class=\"columns is-centered\"><div class=\"column is-half\"><nav class=panel><p class=panel-heading>Login</p><div class=panel-block style=display:block><div class=\"notification is-warning login-warning\" ng-show=message>{{message}}</div><div class=field><p class=\"control has-icons-left has-icons-right\"><input class=input type=email placeholder=Email ng-model=loginForm.credentials.email> <span class=\"icon is-small is-left\"><i class=\"fa fa-envelope\"></i> </span><span class=\"icon is-small is-right\"><i class=\"fa fa-check\"></i></span></p></div><div class=field><p class=\"control has-icons-left\"><input class=input type=password placeholder=Password ng-model=loginForm.credentials.password> <span class=\"icon is-small is-left\"><i class=\"fa fa-lock\"></i></span></p></div><div class=field><p class=control><button class=\"button is-link is-large is-outlined is-fullwidth\" ng-class=\"loginForm.loading ? \\'is-loading\\' : \\'\\'\" ng-click=submitLoginForm()>Login</button></p></div><div class=\"notification is-danger\" ng-show=loginForm.errors>{{loginForm.errors}}</div></div></nav></div></div></div></section>');\n$templateCache.put('app/views/logout/logout.html','<section class=section><div class=container><div class=\"notification is-link\">You have been logged out.</div></div></section>');\n$templateCache.put('app/views/map/map.html','<section class=section><div class=container><nav class=\"breadcrumb has-arrow-separator\" aria-label=breadcrumbs><ul><li><a href=#>{{instituteName}}</a></li><li><a href=/#!/institutes/{{instituteId}}/lists>Lists</a></li><li class=is-active><a href=# aria-current=page>Map</a></li></ul></nav><div class=columns><div class=\"column report-type-list\"><nav class=panel><p class=panel-heading>Report Types <span class=\"tag is-light\">{{numReportTypeResults}}&nbsp;results</span></p><div class=panel-block><p class=\"control has-icons-left\"><input class=\"input is-small\" type=text placeholder=search ng-model=reportTypeQuery ng-keyup=searchReportType($event)> <span class=\"icon is-small is-left\"><i class=\"fa fa-search\"></i></span></p></div><div class=panel-block><input type=checkbox ng-model=isAllSelected ng-click=toggleAllReportTypes()> <span class=modifier>Select All</span> <input type=checkbox ng-model=isUntaggedOnlySelected ng-click=toggleUntaggedOnly()> <span class=modifier>Untagged Only</span> <input type=checkbox ng-model=isHideTagsSelected ng-click=toggleHideTags()> <span class=modifier>Hide Tags</span></div><div id=report-type-list in-view-container><div class=\"panel-block report_type-panel-block\" data-id={{report_type.id}} ng-repeat=\"report_type in report_types\"><div class=report_type-info ng-class=\"{\\'hide-tags\\': isHideTagsSelected}\"><input type=checkbox ng-model=report_type.selected ng-click=selectReportType(report_type) ng-change=reportTypeToggled()> <span>{{report_type.name}}</span> <span class=\"tag is-danger just-tag-count\" ng-show=\"isHideTagsSelected && report_type.tags.length > 0\">{{report_type.tags.length}}</span></div><div class=\"field is-grouped is-grouped-multiline tag-list\" ng-if=!isHideTagsSelected><div class=control data-id={{tag.id}} ng-repeat=\"tag in report_type.tags\"><div class=\"tags has-addons\"><span class=tag>{{tag.documentSubjectMatterDomain}}</span> <span class=\"tag is-danger cross\" ng-click=deleteTag(report_type.id,tag.id)><i class=\"fa fa-times\"></i></span></div></div></div></div><div class=\"panel-block report-types-loader-block\" in-view=loaderInView($index,$inview,$inviewInfo) in-view-options=\"{ generateParts: true }\" ng-if=showLoader><div class=loader-text><i class=\"fa fa-circle-o-notch fa-spin\"></i>&nbsp;<span>Loading...</span></div></div></div></nav></div><div class=column><nav id=tags class=panel><p class=panel-heading>Tags <span class=\"tag is-light\">{{numTagResults}}&nbsp;results</span></p><div class=panel-block><p class=\"control has-icons-left\"><input class=\"input is-small\" type=text placeholder=\"search tags\" ng-model=tagQuery ng-keyup=searchTag($event)> <span class=\"icon is-small is-left\"><i class=\"fa fa-search\"></i></span></p></div><div id=tag-list><div class=panel-block data-id={{tag.id}} ng-repeat=\"tag in tags\"><a class=\"button is-info is-outlined is-small\" ng-click=addTag(tag)>Add Tag</a>&nbsp;&nbsp; <a class=\"button is-danger is-outlined is-small\" ng-click=bulkRemoveTag(tag)>Remove Tag</a>&nbsp;&nbsp; <span>{{tag.documentSubjectMatterDomain}}</span></div></div></nav></div></div></div></section>');\n$templateCache.put('app/views/nav/main-nav.html','<!-- NAV --><nav id=navbar class=\"navbar is-fixed-top\" style=\"transform: translateY(0px);\"><div id=specialShadow class=bd-special-shadow style=\"opacity: 1; transform: scaleY(1);\"></div><div class=container><div class=navbar-brand><a class=navbar-item href=/ ><span>Report Type Mapper</span></a><div id=navbarBurger class=\"navbar-burger burger\" data-target=navMenuDocumentation><span></span> <span></span> <span></span></div></div><div id=navMenuDocumentation class=navbar-menu><div class=navbar-end><a class=navbar-item href=/#!/users ng-show=\"userProfile.$hasRole(\\'ROLE_ADMIN\\')\">Users </a><a class=navbar-item><span class=\"tag is-danger is-medium\" ng-show=\"userProfile.$hasRole(\\'ROLE_ADMIN\\')\">Admin</span> </a><a class=navbar-item href=/#!/institutes ng-show=\"userProfile.$hasRole(\\'ROLE_ADMIN\\')\">Institutes </a><a class=navbar-item href=/#!/tags ng-show=\"userProfile.$hasRole(\\'ROLE_ADMIN\\')\">Tags</a><div class=\"navbar-item has-dropdown is-hoverable\" ng-show=userProfile.$isAuthenticated()><a class=navbar-link href=/#!/token>Settings</a><div class=navbar-dropdown><a class=navbar-item href=/#!/token>API Token </a><a class=navbar-item href=/#!/logout>Logout</a></div></div><div class=navbar-item ng-hide=userProfile.$isAuthenticated()><div class=\"field is-grouped\"><p class=control><a class=\"is-link is-outlined button\" href=#!/register><span class=icon><i class=\"fa fa-user-plus\"></i> </span><span>Register</span></a></p><p class=control><a class=\"button is-primary\" href=#!/login><span class=icon><i class=\"fa fa-sign-in\"></i> </span><span>Login</span></a></p></div></div></div></div></div></nav>');\n$templateCache.put('app/views/pending/pending.html','<section class=section><div class=container><div class=\"notification is-success\">Thank you for registering. Your account activation is pending admin approval. After approval, you will be emailed and you will then be able to login and access your account.</div></div></section>');\n$templateCache.put('app/views/register/register.html','<section class=section><div class=container><div class=\"columns is-centered\"><div class=\"column is-half\"><nav class=panel><p class=panel-heading>Register</p><div class=panel-block style=display:block><div class=field><div class=control><input class=input type=text placeholder=\"First name\" ng-model=registerForm.firstName></div></div><div class=field><div class=control><input class=input type=text placeholder=\"Last name\" ng-model=registerForm.lastName></div></div><div class=field><div class=control><div class=select style=display:block;><select style=width:100%; ng-model=registerForm.selectedInstitute ng-options=\"institute.name for institute in institutes track by institute.id\"><!-- <option ng-repeat=\"institute in institutes\" ng-value=\"{{institute.id}}\">{{institute.name}}</option> --></select></div></div></div><div class=field><p class=\"control has-icons-left has-icons-right\"><input class=input type=email placeholder=Email ng-model=registerForm.email> <span class=\"icon is-small is-left\"><i class=\"fa fa-envelope\"></i> </span><span class=\"icon is-small is-right\"><i class=\"fa fa-check\"></i></span></p></div><div class=field><p class=\"control has-icons-left\"><input class=input type=password placeholder=Password ng-model=registerForm.password> <span class=\"icon is-small is-left\"><i class=\"fa fa-lock\"></i></span></p></div><div class=field><p class=control><button class=\"button is-link is-large is-outlined is-fullwidth\" ng-click=register()>Register</button></p></div><div class=\"notification is-danger\" ng-show=registerForm.errors>{{registerForm.errors}}</div></div></nav></div></div></div></section>');\n$templateCache.put('app/views/token/token.html','<section class=section><div class=container><div class=columns><div class=column><p>Token: <b>{{apiToken}}</b></p></div><div class=column></div></div></div></section>');\n$templateCache.put('app/views/tag/tag.html','<section class=section><div class=container><div class=columns><div class=column><h3 class=\"title is-3\">Add Tags <span class=\"tag is-light\">Total: {{numTags}}</span></h3><!-- <div class=\"field is-grouped\">\\n          <p class=\"control is-expanded\">\\n            <input class=\"input\" type=\"text\" placeholder=\"Add a tag\" ng-model=\"tagName\"/>\\n          </p>\\n          <p class=\"control\">\\n            <a class=\"button is-primary\" ng-click=\"createTag()\">\\n              Create\\n            </a>\\n          </p>\\n        </div>\\n        <p class=\"help is-danger\" ng-show=\"tagAlreadyExists\">The tag already exists.</p> --><form ng-submit=createTags()><div class=field><label class=label>Upload LOINC Ontology Document</label><!-- <div class=\"control\">\\n              <div class=\"file has-name\">\\n                <label class=\"file-label\">\\n                  <input class=\"file-input\" type=\"file\" fileread=\"list.reportTypes\">\\n                  <span class=\"file-cta\">\\n                    <span class=\"file-icon\">\\n                      <i class=\"fa fa-upload\"></i>\\n                    </span>\\n                    <span class=\"file-label\">\\n                      Choose a file\\u2026\\n                    </span>\\n                  </span>\\n                </label>\\n              </div>\\n            </div> --><!-- <p class=\"help\">Select a csv file to upload report types</p> --><!-- <div class=\"control\"> --><file-field class=button ng-model=tagFile>Select file</file-field><!-- </div> --></div><div class=field><label class=label>File Format</label><div class=control><label class=radio><input type=radio ng-model=fileFormat value=simple> Simple</label> <label class=radio><input type=radio ng-model=fileFormat value=complex> Complex</label></div></div><div class=field><div class=control><input type=submit class=\"button is-link\"></div></div></form></div><div class=column></div></div></div></section>');\n$templateCache.put('app/views/institutes/all/all.html','<section class=section><div class=container><h3 class=\"title is-3\">Institutes</h3><table class=\"table is-bordered is-fullwidth is-narrow is-striped\" ng-show=\"institutes.length > 0\"><thead><tr><th>Name</th><th># of Lists</th><th>Action</th></tr></thead><tbody><tr ng-repeat=\"institute in institutes\"><td>{{institute.name}}</td><td>{{institute.lists.length}}</td><td><a class=\"button is-small is-info is-outlined\" href=/#!/institutes/{{institute.id}}/lists>View Lists</a> <a class=\"button is-small is-info is-outlined\" href=/#!/institutes/{{institute.id}}/edit>Edit</a> <a class=\"button is-small is-info is-outlined\" href=/#!/institutes/{{institute.id}}/delete>Delete</a></td></tr></tbody></table><div class=\"notification is-warning\" ng-show=\"institutes.length == 0\">The are currently no institutes to show. <strong>Try creating an institute below.</strong> The institute will then become available to choose during user registration.</div><a class=\"button is-success\" href=/#!/institutes/create>Create Institute</a></div></section>');\n$templateCache.put('app/views/institutes/create/create.html','<section class=section><div class=container><div class=columns><div class=column><h3 class=\"title is-3\">Institutes</h3><div class=\"field is-grouped\"><p class=\"control is-expanded\"><input class=input type=text placeholder=\"Enter institute name\" ng-model=instituteName></p><p class=control><a class=\"button is-primary\" ng-click=createInstitute()>Create</a></p></div><p class=\"help is-danger\" ng-show=instituteAlreadyExists>The institute already exists.</p></div><div class=column></div></div></div></section>');\n$templateCache.put('app/views/institutes/delete/delete.html','<section class=section><div class=container><div class=columns><div class=column><h3 class=\"title is-6\">Are you sure you want to delete this institute?</h3><a class=\"button is-danger\" ng-click=deleteInstitute()>Delete</a></div><div class=column></div></div></div></section>');\n$templateCache.put('app/views/institutes/edit/edit.html','<section class=section><div class=container><div class=columns><div class=column><h3 class=\"title is-3\">Edit Institute</h3><div class=\"field is-grouped\"><p class=\"control is-expanded\"><input class=input type=text placeholder=\"Edit institute name\" ng-model=instituteName></p><p class=control><a class=\"button is-primary\" ng-click=editInstitute()>Edit</a></p></div><p class=\"help is-danger\" ng-show=instituteAlreadyExists>The institute already exists.</p></div><div class=column></div></div></div></section>');\n$templateCache.put('app/views/list/all/all.html','<section class=section><div class=container><nav class=\"breadcrumb has-arrow-separator\" aria-label=breadcrumbs><ul><li><a>{{instituteName}}</a></li><li class=is-active><a href=/#!/institutes/{{instituteId}}/lists>Lists</a></li></ul></nav><table class=\"table is-bordered is-fullwidth is-narrow is-striped\" ng-show=\"lists.length > 0\"><thead><tr><th>Name</th><th># of Report Types</th><th>Action</th></tr></thead><tbody><tr ng-repeat=\"list in lists\"><td>{{list.name}}</td><td>{{list.numOfReportTypes}}</td><td><a class=\"button is-small is-info is-outlined\" href=/#!/institutes/{{list.institute}}/lists/{{list.id}}/map>Map</a> <a class=\"button is-small is-info is-outlined\" href=/#!/institutes/{{list.institute}}/lists/{{list.id}}/edit>Edit</a> <a class=\"button is-small is-info is-outlined\" href=/#!/institutes/{{list.institute}}/lists/{{list.id}}/delete>Delete</a></td></tr></tbody></table><div class=\"notification is-warning\" ng-show=\"lists.length == 0\">The are currently no lists to show. <strong>Try creating a list below.</strong></div><a class=\"button is-success\" href=/#!/institutes/{{instituteId}}/lists/create>Create List</a></div></section>');\n$templateCache.put('app/views/list/create/create.html','<section class=section><div class=container><nav class=\"breadcrumb has-arrow-separator\" aria-label=breadcrumbs><ul><li><a>{{instituteName}}</a></li><li><a href=/#!/institutes/{{instituteId}}/lists>Lists</a></li><li class=is-active><a href=# aria-current=page>Create</a></li></ul></nav><div class=columns><div class=\"column is-one-third\"><form ng-submit=createList()><div class=field><label class=label>Name</label><div class=control><input class=input type=text placeholder=\"List Name\" ng-model=list.name></div></div><div class=field><label class=label>Report Type File</label><!-- <div class=\"control\">\\n              <div class=\"file has-name\">\\n                <label class=\"file-label\">\\n                  <input class=\"file-input\" type=\"file\" fileread=\"list.reportTypes\">\\n                  <span class=\"file-cta\">\\n                    <span class=\"file-icon\">\\n                      <i class=\"fa fa-upload\"></i>\\n                    </span>\\n                    <span class=\"file-label\">\\n                      Choose a file\\u2026\\n                    </span>\\n                  </span>\\n                </label>\\n              </div>\\n            </div> --><!-- <p class=\"help\">Select a csv file to upload report types</p> --><!-- <div class=\"control\"> --><file-field class=button ng-model=list.reportTypes>Select file</file-field><!-- </div> --></div><div class=field><div class=control><input type=submit class=\"button is-link\"></div></div></form></div></div></div></section>');\n$templateCache.put('app/views/list/delete/delete.html','');\n$templateCache.put('app/views/list/edit/edit.html','');\n$templateCache.put('app/views/users/all/all.html','<section class=section><div class=container><table class=\"table table-user\"><thead><tr><th>Name</th><th>Email</th><th>Roles</th><th>Institute</th><th>Activate</th><th>Actions</th></tr></thead><tbody><tr ng-repeat=\"user in users\"><td>{{user.firstName}}&nbsp;{{user.lastName}}</td><td>{{user.email}}</td><td><span class=\"tag is-info role-tag\" ng-repeat=\"role in user.roles track by $index\">{{role}}</span></td><td>{{user.institute.name}}</td><td><input type=checkbox ng-model=user.activated ng-change=activateUser(user) ng-disabled=\"user.roles.indexOf(\\'ROLE_ADMIN\\') > 0\"></td><td><a href=/#!/users/{{user.id}}/delete class=\"button is-small is-outlined is-danger\" ng-disabled=\"user.roles.indexOf(\\'ROLE_ADMIN\\') > 0\">Delete</a></td></tr></tbody></table></div></section>');\n$templateCache.put('app/views/users/delete/delete.html','<section class=section><div class=container><h5 class=\"title is-5\">Are you sure you want to delete this user?</h5><div class=\"field is-grouped\"><p class=control><a class=\"button is-danger\" ng-click=deleteUser(userId)>Yes, delete the user.</a></p><p class=control><a class=button href=/#!/users>No, go back.</a></p></div></div></section>');}]);"]}